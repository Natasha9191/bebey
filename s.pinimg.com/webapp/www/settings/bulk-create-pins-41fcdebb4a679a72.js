(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68636,56416,59472],{579158:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/settings/bulk-create-pins"]=function(){return r(502410).Z}},915206:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(76911),o=r(506979),i=r(908390),a=r(214494),s=r(579014),l=r(858472),c=r(898781),u=r(780280),d=r(19121),f=r(76696),p=r(333206),h=r(456416),_=r(505132),b=r(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}var O={dropdown:{alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},button:{backgroundColor:l.x7,border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"}},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(c,e);var t,r,o,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=w(c);if(t){var n=w(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(S(e=l.call.apply(l,[this].concat(r))),"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:""}),P(S(e),"_setDefaultBoard",function(){a.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then(function(t){var r=(((t||{}).resource_response||{}).data||{}).all_boards;if(r&&r.length>0){var n=r[0],o=n.id,i=n.image_cover_url,a=n.owner,s=n.privacy,l=n.name,c=n.url;if(e.props.selectedItem)return;e.handleItemChosen({boardId:o,imageCoverUrl:i,ownerUsername:null==a?void 0:a.username,privacy:s,title:l||"",url:c},!1)}})}),P(S(e),"setButtonRef",function(t){e.buttonRef=t}),P(S(e),"handleBoardDropdownClick",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),P(S(e),"handleSaveButtonClick",function(){var t=e.props,r=t.onSaveClick,n=t.selectedItem,o=t.disabledBoardPicker;(n||o)&&r?r():e.setState({showFlyout:!0})}),P(S(e),"handleFlyoutClose",function(){e.setState({showFlyout:!1})}),P(S(e),"handleItemChosen",function(t){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,e.props.onItemChosen)(t),r&&e.handleFlyoutClose()}),P(S(e),"handleCreateSection",function(t){var r=e.state.selectedBoard;if(r){var n=r.id,o=r.privacy,i=t.id,a=t.title;e.handleItemChosen({boardId:n,privacy:o,sectionId:i,title:a||""})}e.handleBoardCreateClose()}),P(S(e),"handleBoardCreateShow",function(t){var r=t.title;e.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:r})}),P(S(e),"handleBoardCreateClose",function(){e.setState({showBoardCreate:!1,selectedBoard:null})}),P(S(e),"handleBoardCreate",function(t){e.props.invalidateBoardPickerBoardsResource();var r=t.id,n=t.name,o=t.privacy,i=t.url;e.handleItemChosen({boardId:r,privacy:o,title:n||"",url:i}),e.handleBoardCreateClose()}),P(S(e),"handleSetBoardWithSection",function(t){e.setState({selectedBoard:t})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,r=e.useDefaultBoard,n=e.disableDefaultBoard;void 0!==n&&n||(void 0!==r&&r?this._setDefaultBoard():t||this._setDefaultBoard())}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelText,r=e.buttonText,o=e.customItem,a=e.disabled,l=e.disabledBoardPicker,c=e.flyoutSize,u=e.flyoutZIndex,d=e.hasError,f=e.idealDirection,y=e.onSaveClick,m=e.placeholder,g=e.requestContext,x=e.selectedItem,S=e.showBoardCover,w=e.showButton,P=e.showCreateBoardButton,j=e.showFlyoutSaveButton,C=e.showSections,E=e.showSectionSaveButton,A=e.boardFilter,I=e.useLayer,R=e.useStoryboardStyle,k=e.useCreateModalWithNoLayer,B=e.showSaveToProfile,D=this.state,T=D.selectedBoard,z=D.showBoardCreate,L=D.showFlyout,F=D.suggestedBoardName,M=g.isRTL,N=R?16:8,Z="".concat(N,"px 0 0 ").concat(N,"px"),U="0 ".concat(N,"px ").concat(N,"px 0"),H=(x||{}).title,V=S&&!!x&&H,q=a||l,W=v(v({},R?({dropdown:{alignItems:"center",backgroundColor:"".concat(q?"#efefef":"#ffffff"),border:"2px solid ".concat(d?s.op:s.iX),cursor:"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}).dropdown:O.dropdown),{},{borderRadius:L||!w?N:M?U:Z,padding:V?"0 14px 0 7px":"0 14px",cursor:q?"default":"pointer",pointerEvents:q?"none":"auto"}),G=v(v(v({},O.button),{},{borderRadius:M?Z:U},a?{backgroundColor:"#efefef",cursor:"default"}:{}),{},{pointerEvents:a?"none":"auto"});return(0,b.jsxs)(i.xu,{column:12,position:"relative",dangerouslySetInlineStyle:{__style:{borderRadius:8,boxShadow:d&&!R?"0 0 0 1px #e60023":void 0,zIndex:L?u:void 0}},children:[(0,b.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,b.jsxs)("button",{style:W,onClick:this.handleBoardDropdownClick,ref:this.setButtonRef,"data-test-id":"board-dropdown-select-button",disabled:a,"aria-disabled":a,children:[(0,b.jsxs)(i.xu,{"data-test-id":x?"board-dropdown-item-selected":"board-dropdown-placeholder",marginEnd:2,minWidth:0,overflow:"hidden",display:"flex",alignItems:"center",children:[V&&(0,b.jsx)(i.xu,{marginEnd:2,children:(0,b.jsx)(i.zd,{height:32,width:32,rounding:2,children:null!=x&&x.imageCoverUrl?(0,b.jsx)(i.Ee,{alt:this.props.i18n._('Board cover', 'boardDropdown.button.selectedBoard.boardCover', 'Board cover image for selected board'),color:"lightGray",naturalHeight:1,naturalWidth:1,src:x.imageCoverUrl||"",fit:"cover"}):(0,b.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,b.jsx)(i.xv,{lineClamp:1,children:(0,b.jsx)("span",{style:{color:x?"#111":"#6c6c6c"},children:x&&H?H:m})})]}),(0,b.jsx)(i.xu,{flex:"none",marginEnd:-1,children:(0,b.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Choose a board', 'Instructions to open board picker', 'Instructions to open board picker'),color:q?"subtle":"default",icon:"arrow-down",size:12})})]}),!L&&w&&(0,b.jsx)("button",{style:G,onClick:this.handleSaveButtonClick,"data-test-id":"board-dropdown-save-button",disabled:a,"aria-disabled":a,children:(0,b.jsx)(i.xv,{color:a?"subtle":"inverse",weight:"bold",children:r||this.props.i18n._('Save', 'Button to create new Pin', 'Button to create new Pin')})})]}),L&&(0,b.jsx)(i.J2,{anchor:this.buttonRef,idealDirection:f||"down",onDismiss:this.handleFlyoutClose,size:c,children:(0,b.jsx)(h.sR,{accessibilityLabelText:t,buttonText:r,customItem:o&&(0,n.cloneElement)(o,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:y,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof c?c:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:P,showFlyoutSaveButton:j,showSections:C,showSectionSaveButton:E,boardFilter:A,useStoryboardStyle:R,useLegoLayout:!1,showSaveToProfile:B})}),z&&!T&&(0,b.jsx)(p.Z,{onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,suggestedBoardName:F,useModalWithNoLayer:k,showSecretBoardCreateToggle:"public"===A}),z&&!!T&&(0,b.jsx)(_.Z,{selectedBoard:T,onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,useLayer:I})]})}}],g(c.prototype,r),o&&g(c,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function E(e){var t=(0,c.ZP)(),r=(0,o.useDispatch)(),n=(0,d.Z)(),i=(0,f.Z)();return(0,b.jsx)(C,v(v({},e),{},{invalidateBoardPickerBoardsResource:function(){return r((0,h.DR)(n,i))},requestContext:(0,u.B)(),i18n:t}))}P(C,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},27255:function(e,t){"use strict";t.Z={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},391254:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}}),r(674631);var n=r(515198),o=["css","unsafeCSS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=c(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var u=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof r?e:new r(String(e))}}],e&&l(r.prototype,e),t&&l(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function d(e){var t=e.css,r=e.unsafeCSS,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,o),s=String(t||"")||r||"";return s?(0,n.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(u.factory(s))}})):null}},407043:function(e,t,r){"use strict";r.d(t,{B:function(){return c},v:function(){return l}});var n=r(385740),o=r(425288),i=r(515198),a=(0,o.Z)("ContextLogger"),s=a.Provider,l=a.useHook;function c(e){var t=e.children,r=e.value,o=(0,n.sV)().setViewContextData;return r.injectSetViewContextDataFromHook=o,(0,i.jsx)(s,{value:r,children:t})}},112690:function(e,t,r){"use strict";var n=r(407043);t.Z=function(){return(0,n.v)().logContextEvent}},385740:function(e,t,r){"use strict";r.d(t,{BE:function(){return h},Ih:function(){return _},SU:function(){return b},sV:function(){return p}});var n,o=r(76911),i=r(425288),a=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,i.Z)("View"),f=d.Provider,p=d.useHook;function h(){return n}function _(e){var t,r=e.children,i=e.initialState,s=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(void 0===i?{}:i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],d=s[1],p=(0,o.useCallback)(function(){n={},d({})},[]),h=(0,o.useCallback)(function(e){n=c(c({},n),e),d(function(t){return c(c({},t),e)})},[]),_=(0,o.useMemo)(function(){return{viewContextData:l,clearViewContextData:p,setViewContextData:h}},[l,h,p]);return(0,a.jsx)(o.Fragment,{children:(0,a.jsx)(f,{value:_,children:r})})}function b(){return p().viewContextData}},425288:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911);function o(e,t){var r="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(r," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var r,i,a=(0,n.createContext)(t),s=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),r)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(r,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;a.displayName=s;var l=a.Provider,c=function(e){var t=e.children,r=(0,n.useContext)(a);if(void 0===r)throw Error(o(s,"consumer"));return t(r)},u=function(){return(0,n.useContext)(a)};return l.displayName="".concat(s,"Provider"),c.displayName="".concat(s,"Consumer"),{Provider:l,Consumer:c,MaybeConsumer:function(e){return(0,e.children)((0,n.useContext)(a))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(o(s,"hook"));return e}}}},643010:function(e,t,r){"use strict";r.d(t,{F6:function(){return f},Hs:function(){return d},Yc:function(){return c},vs:function(){return u}});var n=r(76911),o=r(844974),i=r(867820);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s="theme",l="dark"===(0,o.qn)(s),c=function(){return l};function u(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],o=t[1];return(0,n.useEffect)(function(){o(c())},[o]),r}var d=function(){(0,o.Nh)(s,"dark"),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},f=function(){(0,o.L_)(s),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},332611:function(e,t,r){"use strict";r.d(t,{Am:function(){return x},Ig:function(){return v},N:function(){return j},Sd:function(){return S},YX:function(){return P},be:function(){return g},fO:function(){return b},kd:function(){return w},pz:function(){return y}});var n,o=r(76911),i=r(214494),a=r(112690),s=r(764990),l=r(957191),c=r(186656),u=r(67347);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},b=function(e,t){return function(r){var n=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",n).callGet().then(function(e){return e.resource_response?r((0,l.OD)(e.resource_response.data)):void 0})}},y=function(e,t,r,o){return function(a,c){if(t)return Promise.resolve();if(o&&(n=o),1===e.length){var u=e[0],d=c().experiences[u];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(r)||(0,s.E3)(d)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:o}).callGet().then(function(e){return e.resource_response?a((0,l.cL)(e.resource_response.data)):void 0})}},m=function(e,t,r,o){return function(a,s,c){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;return function(p,h){var _,y=h(),m=y.experiences,v=y.experiencesMulti,g=null,x=!0;if(u||(g=(x=m[a]&&m[a].experience_id===s)?m[a]:Array.isArray(v[a])&&(null===(_=v[a])||void 0===_?void 0:_.find(function(e){return e.experience_id===s}))),g&&g.experience_id===s||u&&a&&s){var S=i.Z.create(e,{placed_experience_id:"".concat(a,"%3A").concat(s),extra_context:null!=d?d:{},targeting:f}),w=x?l.Yb:l.xW;switch(t){case"dismissed":return S.callDelete().then(function(){p(w(a,s,t)),p(b(void 0,n)),r&&o&&r({event_type:o,object_id_str:s.toString()})});case"completed":return S.callUpdate().then(function(){!c&&(p(w(a,s,t)),p(b(void 0,n)),r&&o&&r({event_type:o,object_id_str:s.toString()}))});case"viewed":return p(w(a,s,t)),S.callUpdate().then(function(){1000162===a&&p(b()),r&&o&&r({event_type:o,object_id_str:s.toString()})});case"completedWithoutHomefeed":return S.callUpdate().then(function(){c||p(w(a,s,t)),r&&o&&r({event_type:o,object_id_str:s.toString()})})}}return Promise.resolve()}}},v=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e])},g=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e])},x=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e])},S=function(){var e=(0,a.Z)();return(0,o.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},w=function(e,t){return function(r,n){var o=n().experiences[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(function(r){var n,i=(function(e){if(Array.isArray(e))return e}(n=r.split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],a=t;o.metadata&&o.metadata[i]&&(a=p(p({},t),o.metadata[i])),(0,c.Z)({url:"/v3/experiences/".concat(r.replace(":","%3A"),"/trigger/"),method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(function(){_("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},P=function(e){return function(t,r){return t(w(e)),r().experiences[e]}},j=function(e,t,r){return function(o){r&&(n=r),o(w(e,t)),t&&Object.keys(t).length>0&&o(y([e],!1,t,r))}}},764990:function(e,t,r){"use strict";r.d(t,{A0:function(){return c},E3:function(){return s},MQ:function(){return l},fL:function(){return u}});var n=r(908390),o=r(149230),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return!!e&&0!==e.type}var l=function(e,t,r){var n=e[r];return t[r]&&s(n)?n:null};function c(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var u=function(e){var t,r,s=((function(e){if(Array.isArray(e))return a(e)})(r=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(n.xv,{inline:!0,children:e.textContent});var t=e.href||"",r=(0,o.Z)({url:t});return(0,i.jsx)(n.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})});return(0,i.jsx)(n.xv,{inline:!0,children:s})}},207737:function(e,t,r){"use strict";r.d(t,{$S:function(){return n},V$:function(){return o},_4:function(){return a},iY:function(){return s},mR:function(){return i}});var n="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:function(e,t,r){"use strict";r.d(t,{NW:function(){return a},OD:function(){return l},Yb:function(){return s},cL:function(){return c},xW:function(){return i}});var n=r(214494),o=r(207737),i=function(e,t,r){return{type:o.V$,payload:{placementId:e,experienceId:t,status:r}}},a=function(e){return function(t){return n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var r;return e.resource_response?t((r=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:r}})):void 0})}},s=function(e,t,r){return{type:o.iY,payload:{placementId:e,experienceId:t,status:r}}},l=function(e){return{type:o._4,payload:{experiences:e}}},c=function(e){return{type:o.mR,payload:{experiences:e}}}},579014:function(e,t,r){"use strict";r.d(t,{B1:function(){return o},Md:function(){return u},iX:function(){return c},lI:function(){return i},op:function(){return l},uZ:function(){return a},wN:function(){return n},z_:function(){return s}});var n="var(--color-background-default)",o="var(--color-background-inverse-base)",i="var(--color-background-secondary-base)",a="var(--color-background-error-base)",s="var(--color-background-info-weak)",l="var(--color-border-error)",c="var(--color-border-container)",u="var(--color-text-subtle)"},858472:function(e,t,r){"use strict";r.d(t,{$$:function(){return y},C5:function(){return C},CZ:function(){return b},EX:function(){return i},FZ:function(){return n},HH:function(){return s},KK:function(){return w},Kp:function(){return h},Ln:function(){return _},Mv:function(){return j},OX:function(){return a},P6:function(){return E},Rb:function(){return x},Xn:function(){return g},YX:function(){return d},bu:function(){return c},cO:function(){return m},ci:function(){return l},fM:function(){return v},k6:function(){return P},oY:function(){return o},sX:function(){return O},vZ:function(){return f},wA:function(){return S},x7:function(){return u},xE:function(){return p}});var n="var(--color-transparent)",o="var(--color-black-cosmicore-900)",i="var(--color-blue-skycicle-900)",a="var(--color-red-pushpin-50)",s="var(--color-red-pushpin-100)",l="var(--color-red-pushpin-200)",c="var(--color-red-pushpin-300)",u="var(--color-red-pushpin-450)",d="var(--color-red-pushpin-500)",f="var(--color-red-pushpin-600)",p="var(--color-red-pushpin-700)",h="var(--color-red-pushpin-800)",_="var(--color-pink-flaminglow-0)",b="var(--color-white-mochimalist-0)",y="var(--color-gray-roboflow-50)",m="var(--color-gray-roboflow-200)",v="var(--color-gray-roboflow-300)",g="var(--color-gray-roboflow-400)",x="var(--color-gray-roboflow-500)",S="var(--color-gray-roboflow-600)",w="var(--color-gray-roboflow-700)",P="var(--color-purple-mysticool-200)",j="var(--color-purple-mysticool-300)",O="var(--color-purple-mysticool-500)",C="var(--color-teal-spabattical-100)",E="var(--color-yellow-caramellow-300)"},121151:function(e,t,r){"use strict";r.d(t,{ZP:function(){return _},b7:function(){return a.b7},bN:function(){return p},p4:function(){return h}});var n=r(167678),o=r(50286),i=r(515198),a=r(968121);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type","mobileIsFooter","zIndex"],c=["allowMediaPlay","allowScroll","role","size","_dangerouslyDisableScrollBoundaryContainer"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=(0,n.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(51879).then(r.bind(r,373420))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 373420}}),h=(0,n.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(72430).then(r.bind(r,430322))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 430322}});function _(e){var t=(0,o.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type,e.mobileIsFooter,e.zIndex;var n=f(e,l);return(0,i.jsx)(p,d({},n))}e.allowMediaPlay,e.allowScroll,e.role,e.size,e._dangerouslyDisableScrollBoundaryContainer;var a=f(e,c);return(0,i.jsx)(h,d(d({},a),{},{isOpen:r}))}},968121:function(e,t,r){"use strict";r.d(t,{JN:function(){return f},Vf:function(){return p},ZM:function(){return u},b7:function(){return c},i_:function(){return d}});var n=r(908390),o=r(643010),i=r(379764);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=new n.Ry(1e3),u=new n.H3([i.Z]),d=12,f=function(e){var t=e.variant;return{__style:"fullscreen"===t?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===t?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===t?{border:(0,o.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===t?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}},p=function(e){var t=e.isFullscreen,r=e.isTablet,n=e.isShowing,i=e.isRelatedInterestsModal,a={border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},s=n?"translateY(0)":"translateY(100vh)";return a.height=t?"100vh":"",r&&i&&(a=l(l({},a),{width:425,left:"50%",transform:"translateX(-50%)"}),s=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:l(l({},a),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:s})}}},499128:function(e,t,r){"use strict";r.d(t,{UZ:function(){return d},Vg:function(){return u},ZP:function(){return f}});var n=r(76911),o=r(908390),i=r(50286),a=r(829407),s=r(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=200,d=function(e){var t=e.deviceType,r=e.hiding,n=e.visible,o="desktop"===t,i=0,a=o?"translateY(200px)":"translateY(-200px)",s="opacity 0.1s ease-in-out",l="hidden";return n&&!r&&(i=1,a="translateY(0)",s="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),n&&r&&(a="scale(1.1)",s="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:a,transition:s,visibility:l}};function f(e){var t,r,c=e._dangerouslySetThumbnail,f=e._dangerouslySetPrimaryAction,p=e.text,h=e.primaryAction,_=e.dismissButton,b=e.helperLink,y=e.thumbnail,m=e.type,v=e.dataTestId,g=e.duration,x=void 0===g?2e3:g,S=e.onHide,w=e.href,P=e.onClick,j=e.openNewPage,O=e.imageUrl,C=(0,i.ZP)(),E=l((0,n.useState)(!1),2),A=E[0],I=E[1],R=l((0,n.useState)(!1),2),k=R[0],B=R[1],D=(0,n.useRef)(),T=function(){I(!0),D.current=setTimeout(S,u)},z=function(){D.current=setTimeout(T,x)},L=function(){D.current&&clearTimeout(D.current)};(0,a.Z)(function(){return setTimeout(function(){return B(!0)},100),z(),L}),O&&(r={image:(0,s.jsx)(o.Ee,{alt:"string"==typeof p?p:"".concat(p[0]," ").concat(p[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:O})});var F=(0,s.jsx)(o.FN,{_dangerouslySetPrimaryAction:f,_dangerouslySetThumbnail:c,dismissButton:_,helperLink:b,primaryAction:h,text:p,thumbnail:null!==(t=r)&&void 0!==t?t:y,type:m}),M=d({deviceType:C,hiding:A,visible:k}),N=M.marginTop,Z=M.opacity,U=M.pointerEvents,H=M.position,V=M.transform,q=M.transition,W=M.visibility;return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:V,transition:q,visibility:W,pointerEvents:U}},"data-test-id":null!=v?v:"toast",display:"flex",marginTop:N,onMouseEnter:L,onMouseLeave:z,opacity:Z,position:H,children:w?(0,s.jsx)(o.Tg,{href:w,onTap:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;w.startsWith("#")&&(t.preventDefault(),r()),null==P||P(t)},rounding:"pill",target:j?"blank":null,children:F}):F})}},356997:function(e,t,r){"use strict";r.d(t,{qE:function(){return a},u_:function(){return s.ZP}});var n=r(908390),o=r(515198);function i(e){var t=e.accessibilityLabel,r=e.name,i=e.outline,a=e.size,s=e.src,l=e.verified;return(0,o.jsx)(n.qE,{accessibilityLabel:t,name:r,outline:i,size:a,src:(null==s?void 0:s.includes("images/user/default"))&&r?void 0:s,verified:l})}i.displayName="Avatar";var a=i,s=r(121151);r(499128)},898781:function(e,t,r){"use strict";r.d(t,{oz:function(){return i},q6:function(){return o}});var n=(0,r(425288).Z)("i18n"),o=n.Provider,i=n.Consumer,a=n.useHook;t.ZP=a},349700:function(e,t,r){"use strict";r.d(t,{Wc:function(){return l},bF:function(){return u},nk:function(){return s},r7:function(){return d}});var n=r(76911),o=r(515198);function i(e,t,r){return e.split(r).map(function(e){if(e.match(r)){var n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}var a=/(\{\{\s*\w+\s*\}\})/g;function s(e,t){return i(e,t,a)}function l(e,t){return i(e,t,a).join("")}var c=/(\{\s*\w+\s*\})/g;function u(e,t){return i(e,t,c)}var d=function(e){var t=e.text;return Array.isArray(t)?t.map(function(e,t){return(0,o.jsx)(n.Fragment,{children:e},t)}):t}},755742:function(e,t){"use strict";t.Z={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},454074:function(e,t,r){"use strict";function n(e){var t=[];return e.items?Array.from(e.items).forEach(function(e){if("file"===e.kind){var r=e.getAsFile();r&&t.push(r)}}):t.concat(Array.from(e.files)),t}r.d(t,{Z:function(){return n}})},773285:function(e,t,r){"use strict";r.d(t,{F:function(){return i},a:function(){return o}});var n=(0,r(425288).Z)("ExperimentContext"),o=n.Provider,i=n.useHook},780280:function(e,t,r){"use strict";r.d(t,{B:function(){return _},LC:function(){return p},P2:function(){return f},fH:function(){return h},gf:function(){return b}});var n=r(76911),o=r(608832),i=r(239745),a=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)();function f(e){var t,r=e.children,s=e.initialValue,l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(s))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=l[0],p=l[1],h=(0,n.useMemo)(function(){return{requestContext:f,updateRequestContext:function(e){var t=c(c({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d.Provider,{value:h,children:r})}var p=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)},h=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)};function _(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function b(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,r){"use strict";var n;function o(e){n=e}function i(){return n}r.d(t,{J:function(){return o},l:function(){return i}})},784590:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(76911),o=r(506979),i=r(599689),a=r(886858),s=r(780280),l=r(248327),c=r(718368);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={},p=function(e){var t=e.httpStatus;return!t||t>=500};function h(e){var t,r=null!=e?e:{name:"DisabledResource",options:null},h=r.enabledRouteRefresh,_=r.__unstableEnableSuspenseSupport,b=r.headers,y=r.name,m=r.noCache,v=r.options,g=r.schema,x=!e,S=(0,o.useDispatch)(),w=(0,a.Z)(v),P=(0,n.useRef)(null),j=(0,n.useRef)(),O=(0,i.k6)(),C=O&&"POP"!==O.action,E=function(e){return(e[y]||f)[w]||f},A=(0,o.useSelector)(function(e){return E(e.resources).nextBookmark}),I=(0,o.useSelector)(function(e){return E(e.resources).data}),R=(0,o.useSelector)(function(e){return E(e.resources).auxData}),k=(0,o.useSelector)(function(e){return E(e.resources).error}),B=(0,o.useSelector)(function(e){return!!E(e.resources).fetching}),D="object"===d(R)&&"string"==typeof(null==R?void 0:R.pagination_group)?R.pagination_group:void 0,T=!!k||void 0!==I,z=T&&!B&&A===c.q,L=!!(T&&h&&C&&!x),F=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(L))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),M=F[0],N=F[1],Z=(0,n.useCallback)(function(e,t){P.current=S((0,l.U)(y,{options:v,schema:g,bookmark:e,headers:b,paginationGroup:t}))},[S,y,w,g,b]),U=function(){P.current=S((0,l.b)(y,{options:v,schema:g,headers:b}))},H=(0,s.B)().isBot,V=function(){if(!x&&j.current!==w){var e=void 0===j.current;j.current=w,!T&&!B||e&&k&&p(k)?Z():(!H&&m||L)&&U()}};(0,n.useEffect)(function(){_||V()}),_&&V();var q=(0,n.useCallback)(function(){x||(U(),N(!0))},[x,l.b,y,w,b,N]),W=(0,n.useCallback)(function(){!A||z||B||x||Z(A,D)},[x,Z,A,z,B,D]);if(P.current){if(T&&!B)P.current=null;else if(_)throw P.current}var G=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:W,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:q}),$={auxData:R,data:I,error:k,fetchMore:W,isAtEnd:z,isFetching:B,isLoaded:T,isRefreshing:M,nextBookmark:A,refresh:q};return(0,o.shallowEqual)($,G.current)||(M&&(G.current.data||!L)&&!(0,o.shallowEqual)($.data,G.current.data)&&($.isRefreshing=!1,N(!1)),G.current=$),G.current}},418614:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(784590),o=r(19121),i=r(599689),a=r(780280),s=r(50286),l=r(826067);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["getOptions","checkExperiments","disableFetch"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){var t,r,f,p,h,_,b,y,m,v,g,x,S,w,P,j,O,C,E,A,I,R,k,B=e.getOptions,D=e.checkExperiments,T=e.disableFetch,z=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),L=(p=(r={checkExperiments:D,disableFetch:T,viewer:{country:(t=(0,o.Z)()).country||void 0,id:t.id||void 0,isAuth:t.isAuth,isEmployee:!!t.isEmployee,isPartner:!!t.isPartner,username:t.username||void 0}}).checkExperiments,h=r.disableFetch,_=r.viewer,b=(0,i.TH)(),y=(0,i.$B)(),g=(v={advertiser:(m=(0,a.B)()).advertiser,deviceType:(0,s.Mq)(m),location:b,match:y,viewer:_,inviteCode:null!==(f=m.inviteCode)&&void 0!==f?f:""}).advertiser,x=v.deviceType,w=(S=v.location).pathname,P=S.search,j=v.inviteCode,C=(O=v.match).params,E=O.path,A=v.viewer,I={advertiser:g,deviceType:x,routeData:{inviteCode:j,matchPath:E,params:C,parsedSearch:(0,l.mB)(P),pathname:w,search:P},user:{country:A.country||void 0,id:A.id||void 0,isAuth:A.isAuth,isEmployee:!!A.isEmployee,isPartner:!!A.isPartner,username:A.username||void 0}},k=!!(R=!!h&&h(I))||!p||p(m.experimentsClient),{args:I,fetchDisabled:R||!k}),F=L.args,M=L.fetchDisabled,N=B?B(F):void 0;return(0,n.Z)(M?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({options:N},z))}},995228:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911),o=r(515198);function i(e){var t=e.children,r=e.fallback;return(0,o.jsx)(n.Suspense,{fallback:r||null,children:t})}},239745:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return o}})},985913:function(e,t,r){"use strict";var n=r(858142),o=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,n.Z)(o,e,t)}},858791:function(e,t){"use strict";t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},858142:function(e,t){"use strict";t.Z=function(e,t,r){return t?t.replace(e,function(e,t){return r&&Object.prototype.hasOwnProperty.call(r,t)?r[t]:""}):""}},66699:function(e,t,r){"use strict";var n=r(985913),o=r(858791);t.Z=function(e,t){var r={};return Object.keys(t).forEach(function(e){r[e]=t[e]?(0,o.Z)(t[e].toString()):""}),(0,n.Z)(e,r)}},70061:function(e,t,r){"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}r.d(t,{Z:function(){return n}})},948618:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.ariaHidden,r=e.color,i=e.size;return(0,o.jsx)("span",{"aria-hidden":void 0!==t&&t,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:void 0===r?"darkGray":r,inline:!0,size:null!=i?i:"200",children:"\xb7"})})}},343341:function(e,t,r){"use strict";r.d(t,{F9:function(){return i},Zo:function(){return o}});var n=(0,r(425288).Z)("toastManagerContext"),o=n.Provider,i=n.useHook},149230:function(e,t,r){"use strict";var n=r(954931);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,n.Z)(t))}},566101:function(e,t){"use strict";t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},50286:function(e,t,r){"use strict";r.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return s},ds:function(){return l},ml:function(){return c}});var n=r(780280);function o(e){var t=e.userAgent,r=t.isMobile;return t.isTablet?"tablet":r?"phone":"desktop"}var i=function(){return o((0,n.B)())},a=function(e){return"phone"===e},s=function(e){return"tablet"===e},l=function(e){return"desktop"===e},c=function(){return a(i())},u=function(){return s(i())},d=function(){return l(i())};t.ZP=i},829407:function(e,t,r){"use strict";var n=r(76911);t.Z=function(e){(0,n.useEffect)(e,[])}},19121:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=(0,r(425288).Z)("viewer"),o=n.Provider,i=n.useHook;t.Z=i},556663:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(76911),o=r(908390),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var _={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"rgba(74, 144, 226, 0.08)",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"rgba(230, 0, 35, 0.03)",boxShadow:"0 0 0 1px #e60023"}},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,r,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(h);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(d(e=s.call.apply(s,[this].concat(r))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),p(d(e),"handleOnDragEnter",function(t){var r=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),r&&r(t)}),p(d(e),"handleOnDragLeave",function(t){var r=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)}),p(d(e),"handleOnDragOver",function(t){var r=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),r&&r(t)}),p(d(e),"handleOnDrop",function(t){var r=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)}),p(d(e),"handleMouseEnter",function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})}),p(d(e),"handleMouseLeave",function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})}),p(d(e),"setContainedHeight",function(t){e.setState({containedHeight:t})}),e}return r=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?l(l({},_[e]),{},{backgroundColor:t}):_[e]}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.color,n=e.dropRounding,a=e.hasError,s=e.height,c=e.position,u=e.width,d=this.state,f=d.isDraggingOver,p=d.isHoveringOver,h=d.containedHeight,_=f?"drag":a?"error":"default";return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:l(l({},this.getDragContainerStyles(_,r)),n?{borderRadius:n}:{})},"data-test-id":"drag-behavior-container",height:s||h||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:c,rounding:2,width:u||"100%",children:t(f,p,this.setContainedHeight,h)})}}],c(h.prototype,r),n&&c(h,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.Component)},869899:function(e,t,r){"use strict";r.r(t),r.d(t,{RoleBasedAccessControlProvider:function(){return E},useRoleBasedAccessControlContext:function(){return C}});var n=r(76911),o=r(425288),i=r(773285),a=r(784590),s=r(19121),l=r(389643),c=r(339363),u=r(70061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function e(t){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"!==p(t[n])||null===t[n]||Array.isArray(t[n])?r[(0,u.Z)(n)]=t[n]:r[(0,u.Z)(n)]=e(t[n]));return r},_=function(e,t){var r=[];for(var n in e)n!==t&&r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:n},h(e[n])));var o,i=r.sort(function(e,t){var r=e.user.businessName,n=t.user.businessName;return r.localeCompare(n)}),a=new Map,s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.set(l.id,l)}}catch(e){s.e(e)}finally{s.f()}return a};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},x=function(e,t){switch(t.type){case"LOAD_PROFILES":return v(v({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return v(v({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return v(v({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return v(v({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return v(v({},e),{},{disableProfileChanger:t.payload});default:return e}},S=function(e){var t=e.dispatch,r=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,s=o.headerVisible;return{changeProfile:(0,n.useCallback)(function(e){r&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[r,t]),toggleORBACVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[r,t,i]),toggleDisableProfileChanger:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[r,t,a]),toggleHeaderVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!s})},[r,t,s])}},w=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(x,g))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=S({dispatch:i,isEnabled:e,state:o}),s=o.activeProfile,l=o.orbacVisibility;return(0,n.useEffect)(function(){var e=(0,c.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(function(){var e=(0,c.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(function(){(0,c.Nh)("orbacVisibility",l)},[l]),(0,n.useEffect)(function(){(0,c.Nh)("orbacActiveProfile",s)},[s]),{state:o,actions:a,receiveProfiles:(0,n.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:_(e,t)})},[i])}},P=r(515198),j=(0,o.Z)("RoleBasedAccessControlContext"),O=j.Provider,C=j.useMaybeHook,E=function(e){var t,r=e.children,o=(0,i.F)().checkExperiment,c=(0,s.Z)(),u=!!(c.isAuth&&c.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=w(u),f=d.state,p=d.actions,h=d.receiveProfiles,_=f.activeProfile,b=f.headerVisible,y=f.profiles,m=void 0===y?[]:y,v=m?Array.from(m.values()):[],g=(0,l.Z)(v),x=!!c.isAuth&&v.length>0&&g,S=c.isAuth?c.id:"",j=c.isAuth?c.username:"",C=p.changeProfile,E=p.toggleORBACVisibility,A=p.toggleDisableProfileChanger,I=p.toggleHeaderVisibility;(0,n.useEffect)(function(){if(u){if("string"==typeof g){C(g);return}_||C(S)}},[g,S,u,C,_]),(0,n.useEffect)(function(){u&&(x&&!b&&I(!0),!x&&b&&I(!1))},[I,x,u,b,m]);var R=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,k=null==R?void 0:R.profiles;c&&c.isAuth&&f.activeProfile===c.id?t={id:c.id,permissions:["OWNER"],user:{username:j,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:_&&f.profiles&&(t=f.profiles.get(_)),(0,n.useEffect)(function(){k&&h(k,S)},[h,k,S]);var B=f.profiles?Array.from(f.profiles.values()):[];return(0,P.jsx)(O,{value:{profiles:B,headerVisible:f.headerVisible,activeProfile:t,changeProfile:C,toggleORBACVisibility:E,toggleDisableProfileChanger:A,toggleHeaderVisibility:I},children:r})}},717615:function(e,t,r){"use strict";var n=r(773285),o=r(869899),i=r(389643);t.Z=function(){var e=(0,n.F)().checkExperiment,t=(0,o.useRoleBasedAccessControlContext)(),r=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,s=(0,i.Z)((null==t?void 0:t.profiles)||[]),l=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!l||s)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},76696:function(e,t,r){"use strict";var n=r(773285),o=r(780280),i=r(869899),a=r(717615);t.Z=function(){var e,t=(0,n.F)().checkExperiment("web_m10n_orbac_in_create_flow").anyEnabled,r=(0,o.B)().advertiser,s=(0,a.Z)(),l=((null===(e=(0,i.useRoleBasedAccessControlContext)())||void 0===e?void 0:e.profiles)||[]).find(function(e){return(null==e?void 0:e.id)===(null==r?void 0:r.owner_user_id)});return t&&l||s}},389643:function(e,t,r){"use strict";var n=r(599689),o=r(53987),i=r(773285),a=r(19121),s=r(350118);t.Z=function(e){var t,r,l,c,u=(0,n.TH)(),d=(0,a.Z)(),f=(0,s.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,h=(0,n.$B)("/:username"),_=null==h?void 0:null===(t=h.params)||void 0===t?void 0:t.username,b=(0,n.$B)("/pin/:id"),y=null!=b&&null!==(r=b.params)&&void 0!==r&&!!r.id&&(null===(l=f(b.params.id))||void 0===l?void 0:null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var m=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},r=t.user,n=t.id,o=(void 0===r?{}:r).username;return(!!o&&!!_||!!y&&!!n)&&(o===_||y===n)});return!!m&&m.id}},845772:function(e,t,r){"use strict";var n=r(19121),o=r(717615),i=r(231947);t.Z=function(){var e=(0,n.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},231947:function(e,t,r){"use strict";r.d(t,{D3:function(){return c},DX:function(){return s},KY:function(){return u},Ms:function(){return n},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return l}});var n=function(e,t){var r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,r){var n;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},s=function(e,t,r){return r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},l=function(e,t,r){return!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t)},c=function(e,t,r){return!!(l(e,t,r)||e&&e.isAuth&&t===e.id)},u=function(e,t,r){return c(e,t&&t.owner&&t.owner.id||"",r)};function d(e,t,r){return c(e,t?t.id:"",r)}},333206:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(76911),o=r(506979),i=r(908390),a=r(27255),s=r(898781),l=r(19121),c=r(76696),u=r(231947),d=r(959472),f=r(109892),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(s);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(v(e=o.call.apply(o,[this].concat(r))),"handleSubmit",function(t){var r=e.props,n=r.advertiserId,o=r.createBoard,i=r.onBoardCreate,a=r.viewer,s=r.orbacActingAs,l=(0,u.lJ)(a,s);return o({boardCreateOptions:b(b({name:t.name,description:t.description,privacy:t.privacy,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled},n?{advertiser_id:n}:{}),l?{orbac_subject_id:l}:Object.freeze({}))}).then(function(e){i(e)})}),x(v(e),"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:e.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(e.props.viewer,e.props.orbacActingAs)},pin_count:0}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.advertiserId,r=e.isAdAccountOwner,n=e.onClose,o=e.privacy,s=e.useModalWithNoLayer,l=e.showSecretBoardCreateToggle;return(0,p.jsx)(d.Z,{board:b(b({},this.emptyBoardData),{privacy:r?o:a.Z.BoardPrivacy.PROTECTED}),currentUserIsOwner:!0,isAdAccount:!!t,isAdAccountOwner:r,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:n,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:s,showSecretBoardCreateToggle:l,title:(0,p.jsx)(i.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(i.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}],y(s.prototype,r),n&&y(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);function P(e){var t=(0,f.Z)(),r=(0,s.ZP)(),n=(0,l.Z)(),i=(0,o.useSelector)(function(e){var t=e.advertiser;return t?t.id:void 0}),a=(0,c.Z)(),d=(0,u.lJ)(n,a),h=(0,o.useSelector)(function(e){var t=e.advertiser;return!t||n.isAuth&&t.owner_user_id===n.id||!!d});return(0,p.jsx)(w,b(b({},e),{},{advertiserId:i,createBoard:t,dispatch:(0,o.useDispatch)(),isAdAccountOwner:h,viewer:n,i18n:r,orbacActingAs:a}))}x(w,"defaultProps",{privacy:a.Z.BoardPrivacy.PUBLIC})},959472:function(e,t,r){"use strict";r.d(t,{Z:function(){return K}});var n=r(76911),o=r(908390),i=r(27255),a=r(121151),s=r(898781),l=r(349700),c=r(773285),u=r(780280),d=r(995228),f=r(66699),p=r(343341),h=r(50286),_=r(19121),b=r(134906),y=r(526760),m=r(607989),v=r(515198),g=function(e){var t=e.label,r=e.labelId;return r?(0,v.jsx)(o.__,{htmlFor:r,children:(0,v.jsx)(o.xv,{size:"100",children:t})}):(0,v.jsx)(o.xv,{size:"100",children:t})};function x(e){var t=e.children,r=e.label,i=e.labelId;return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(o.xu,{marginBottom:2,children:(0,v.jsx)(g,{label:r,labelId:i})}),t]})}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t,r=e.coverPin,i=e.handleShowBoardCoverEditModal,a=(0,s.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],f=(0,u.B)().isRTL;return(0,v.jsx)(x,{label:a._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,v.jsx)(o.xu,{width:138,position:"relative",children:(0,v.jsx)(o.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:i,rounding:4,children:null!=r&&r.custom_cover?(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(o.zd,{height:138,rounding:4,width:138,children:(0,v.jsx)(o.Ee,{alt:r.image_url,color:"gray",fit:"cover",naturalHeight:r.size&&r.size[0]||138,naturalWidth:r.size&&r.size[0]||138,src:r.image_url})}),(0,v.jsx)(o.xu,{position:"absolute",left:f,right:!f,bottom:!0,padding:2,children:(0,v.jsx)(o.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:c?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,v.jsx)(o.JO,{accessibilityLabel:a._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,v.jsx)(o.xu,{alignItems:"center",color:c?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,v.jsx)(o.JO,{accessibilityLabel:a._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function P(e){var t=e.children,r=e.label,i=e.labelId,a=e.subtext;return(0,v.jsx)(n.Fragment,{children:(0,v.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[t,(0,v.jsx)(o.xu,{marginStart:2,children:(0,v.jsxs)(o.__,{htmlFor:i,children:[(0,v.jsx)(o.xv,{size:"300",weight:"bold",children:r}),a]})})]})})}function j(e){var t=e.hasCollabBoardEmail,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,s.ZP)();return r&&(0,v.jsx)(P,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,v.jsx)(o.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,v.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(o.xu,{marginEnd:1,children:(0,v.jsx)(o.XZ,{checked:t,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var O=r(948618),C=r(960278);function E(e){var t,r=e.board,n=e.onCollaboratorInviteClick,i=(0,s.ZP)(),a=(0,C.Z)({boardId:r.id,ownerName:null!==(t=r.owner.full_name)&&void 0!==t?t:"",ownerUsername:r.owner.username,ownerImgSrc:r.owner.image_medium_url||r.owner.image_small_url||""}),c=a.slice(0,3).map(function(e){return e.name}),u="";switch(a.length){case 3:u=(0,l.Wc)("".concat(i._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(c[0]),second:"".concat(c[1]),last:"".concat(c[2])});break;case 2:u=(0,l.Wc)("".concat(i._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(c[0]),second:"".concat(c[1])});break;default:u=c.join(", ")}var d=a.length>3?(0,l.Wc)(i.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', a.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:u,leftCount:"".concat(a.length-3)}):(0,l.Wc)("".concat(i._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:u});return(0,v.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsx)(o.HE,{accessibilityLabel:d,collaborators:a.map(function(e){var t=e.name,r=e.src;return{src:null!=r&&r.endsWith("/default_75.png")?void 0:r,name:t}}),size:"md"}),(0,v.jsx)(o.hU,{accessibilityLabel:i._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}function A(e){var t=e.board,r=e.onCollaboratorInviteClick,n=(0,s.ZP)(),i=(0,v.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(o.xv,{size:"100",inline:!0,children:n._('Collaborators', ' - ', ' -- ')}),(0,v.jsx)(O.Z,{}),(0,v.jsx)(o.xv,{inline:!0,size:"100",weight:"bold",children:(0,v.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",underline:"hover",children:n._('Learn more', ' - ', ' -- ')})})]});return(0,v.jsx)(x,{label:i,labelId:"collaborators",children:(0,v.jsx)(E,{board:t,onCollaboratorInviteClick:r})})}function I(e){var t=e.collaboratorInvitesEnabled,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,s.ZP)();return r&&(0,v.jsx)(P,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,v.jsx)(o.XZ,{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function R(e){var t=e.description,r=e.descriptionValidatorErrors,n=e.onChange,i=(0,s.ZP)(),a="boardEditDescription";return(0,v.jsx)(x,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:a,children:(0,v.jsx)(o.Kx,{errorMessage:r.join(", "),id:a,name:"description",onChange:n,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:t})})}var k=function(e){var t=e.children;return(0,v.jsx)(o.xu,{paddingX:8,role:"list",children:n.Children.map(t,function(e,r){return e&&(0,v.jsx)(o.xu,{role:"listitem",marginBottom:r===n.Children.count(t)-1?1:8,children:e},r)})})};function B(e){var t=e.name,r=e.nameValidatorErrors,n=e.onChange,i=e.disabled,a=(0,s.ZP)();return(0,v.jsx)(x,{label:a._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,v.jsx)(o.nv,{disabled:i,errorMessage:r.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:a._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:t})})}var D=function(e){var t=e.board,r=e.collabBoardEmail,n=e.collaboratorInvitesEnabled,i=e.coverPin,a=e.currentUserIsOwner,l=e.description,c=e.descriptionValidatorErrors,u=e.handleBoardLeave,d=e.hideCollaboratorsSection,f=e.isCollaborative,p=e.showCoverEdit,h=e.name,_=e.nameValidatorErrors,b=e.handleShowBoardCoverEditModal,y=e.handleChangeName,m=e.handleChangeDescription,g=e.handleShowCollaboratorsModal,x=e.handleChangeCollabBoardEmail,S=e.handleChangeCollaboratorInvitesEnabled,P=(0,s.ZP)();return(0,v.jsxs)(k,{children:[p&&(0,v.jsx)(w,{coverPin:i,handleShowBoardCoverEditModal:b}),(0,v.jsx)(B,{disabled:!0,name:h,nameValidatorErrors:_,onChange:y}),(0,v.jsx)(R,{description:l,descriptionValidatorErrors:c,onChange:m}),a&&!!u&&!d&&(0,v.jsx)(A,{board:t,onCollaboratorInviteClick:g}),f&&(0,v.jsx)(o.xu,{marginBottom:-7,children:(0,v.jsx)(o.xv,{size:"100",children:P._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,v.jsx)(j,{hasCollabBoardEmail:r,isCollaborative:f,onCheckboxChange:x}),(0,v.jsx)(I,{collaboratorInvitesEnabled:n,isCollaborative:f,onCheckboxChange:S})]})};function T(e){var t=e.isProtectedToggler,r=e.isToggleDisable,a=e.onChange,l=e.onCheckboxChange,u=e.privacy,d=(0,s.ZP)(),f=(0,_.Z)(),p=(0,c.F)().checkExperiment;if(f.isPrivateProfile&&p("web_hide_u16_board").anyEnabled)return(0,v.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:2,children:[(0,v.jsx)(o.xv,{size:"100",children:d._('Private', 'BoardForm.BoardFormSecretToggle.text', 'protected board')}),(0,v.jsx)(o.xv,{color:"subtle",size:"100",children:d._('This board will only be visible to you', 'BoardForm.BoardFormSecretToggle.subText', 'protected board')})]});if(!0===t)return(0,v.jsx)(P,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,v.jsx)(o.xu,{paddingY:2,children:(0,v.jsx)(o.rs,{onChange:a,switched:u===i.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:r})})});if(u!==i.Z.BoardPrivacy.PROTECTED){var h=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),b=(0,v.jsx)(n.Fragment,{children:(0,v.jsxs)(o.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,v.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,v.jsx)(P,{label:h,labelId:"secret",subtext:b,children:(0,v.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(o.XZ,{checked:u===i.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:l,disabled:r})})})}return null}function z(e){var t=e.allowHomefeedRecommendations,r=e.onCheckboxChange,n=(0,s.ZP)();return(0,v.jsx)(P,{label:n._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,v.jsx)(o.xv,{color:"subtle",size:"300",children:n._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,v.jsx)(o.XZ,{checked:t,id:"recommendation",name:"recommendation",onChange:r})})}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var W=(0,n.lazy)(function(){return Promise.all([r.e(97270),r.e(75339)]).then(r.bind(r,659099))}),G=(0,n.lazy)(function(){return Promise.all([r.e(10966),r.e(49510),r.e(741),r.e(49426),r.e(18851)]).then(r.bind(r,357156))}),$=function(e,t){return(0,b.Gy)({max:e,maxErrorString:(0,f.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},Y=function(e){return[$(i.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},J=function(e){return[(0,b.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),$(i.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},X=function(e){var t=e.condition,r=e.children;return t?(0,v.jsx)(o.xu,{position:"absolute",zIndex:a.b7,children:r}):r},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(c,e);var t,r,i,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=H(c);if(t){var n=H(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),V(U(t=s.call(this,e)),"handleChangeName",function(e){var r=e.value,n=(0,b.FU)(J(t.props.i18n),r);t.setState({name:r,nameValidatorErrors:n})}),V(U(t),"handleChangeDescription",function(e){var r=e.value,n=(0,b.FU)(Y(t.props.i18n),r);t.setState({description:r,descriptionValidatorErrors:n})}),V(U(t),"handleChangePrivacyToggle",function(e){var r=e.value,n="public";r&&(n=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==n&&t.setState({privacy:n})}),V(U(t),"handleEnableSecret",function(){t.setState({privacy:"secret",showSecretConfirmation:!1})}),V(U(t),"handleHideSecretConfirmation",function(){t.setState({showSecretConfirmation:!1})}),V(U(t),"handleChangeRecommendationToggle",function(e){var r=e.value;t.setState({allowHomefeedRecommendations:r})}),V(U(t),"handleChangeCollabBoardEmail",function(e){var r=e.value;t.setState({collab_board_email:r})}),V(U(t),"handleChangeCollaboratorInvitesEnabled",function(e){var r=e.value;t.setState({collaboratorInvitesEnabled:r})}),V(U(t),"handleCheckboxChange",function(e){return function(t){return e({event:t.event,value:t.checked})}}),V(U(t),"handleSubmit",function(e){var r=t.props.onSubmit,n=t.state,o=n.collab_board_email,i=n.collaboratorInvitesEnabled,a=n.description,s=n.name,l=n.privacy,c=n.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var u=s.trim(),d=a.trim();t.setState({submitting:!0,submitError:""}),r({name:u,collab_board_email:o,collaborator_invites_enabled:i,description:d,privacy:l,allow_homefeed_recommendations:c}).then(function(){t.setState({submitting:!1})}).catch(function(e){var r=t.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var n=e.message,o=e.message_detail;r=o?"".concat(n," ").concat(o):n}else"string"==typeof e&&(r=e);t.setState({submitting:!1,submitError:r})})}}),V(U(t),"handleShowBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!0})}),V(U(t),"handleHideBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!1})}),V(U(t),"handleShowCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!0})}),V(U(t),"handleHideCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!1})}),V(U(t),"handleSaveBoardCoverEditModal",function(e){t.handleHideBoardCoverEditModal();var r=t.props.onCropChange;r&&r(e)});var t,r=e.board,n=r.collab_board_email,o=r.collaborator_invites_enabled,i=r.description,a=r.name,l=r.pin_count,u=r.privacy,d=r.allow_homefeed_recommendations;return t.state={collab_board_email:n,description:i,name:a,pin_count:l,privacy:u,allowHomefeedRecommendations:d,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:a,previousDescription:i,previousPrivacy:u},t}return r=[{key:"getFormFooter",value:function(){var e=this.props.submitText,t=this.state.submitError;return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(o.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,v.jsx)(o.xu,{children:(0,v.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,v.jsx)(o.xu,{height:48,children:(0,v.jsx)(o.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,v.jsx)(o.xu,{paddingX:1,"aria-live":"polite",tabIndex:"0",children:(0,v.jsx)(o.xv,{color:"error",children:t})})]})}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,r=e.name,n=e.nameValidatorErrors,o=e.submitting;return!r||n.length>0||t.length>0||o}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.board,i=r.archived_by_me_at,s=r.cover_pin,c=r.id,u=r.is_collaborative,f=e.coverImageHeight,p=e.coverImageWidth,h=e.currentUserIsOwner,_=e.handleBoardLeave,b=e.hideCollaboratorsSection,g=e.isAdAccount,x=e.isAdAccountOwner,S=e.isDeletable,P=e.isDesktop,O=e.isEditable,C=e.isNameAndSecretView,E=e.isSoftDeletedBoardsEnabled,L=e.onClose,F=e.onDeleteButtonClick,M=e.requestContext,N=e.title,Z=e.useModalWithNoLayer,U=e.showSecretBoardCreateToggle,H=this.state,V=H.allowHomefeedRecommendations,q=H.collab_board_email,$=H.collaboratorInvitesEnabled,Y=H.description,J=H.descriptionValidatorErrors,Q=H.name,K=H.nameValidatorErrors,ee=H.pin_count,et=H.privacy,er=H.showBoardCoverEdit,en=H.showCollaboratorsModal,eo=H.showSecretConfirmation,ei=O&&ee>0,ea=t.is_ads_only,es=(0,v.jsxs)(k,{children:[ei&&(0,v.jsx)(w,{coverPin:s,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,v.jsx)(B,{disabled:ea,name:Q,nameValidatorErrors:K,onChange:this.handleChangeName}),(0,v.jsx)(R,{description:Y,descriptionValidatorErrors:J,onChange:this.handleChangeDescription}),h&&!!_&&!b&&(0,v.jsx)(A,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,v.jsx)(o.xu,{marginBottom:-7,children:(0,v.jsx)(o.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,v.jsx)(T,{isProtectedToggler:!!g,isToggleDisable:!!g&&!x,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!i&&(0,v.jsx)(z,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,v.jsx)(j,{hasCollabBoardEmail:q,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,v.jsx)(I,{collaboratorInvitesEnabled:$,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),S&&(0,v.jsxs)(o.xu,{marginTop:-6,paddingY:4,children:[(0,v.jsx)(o.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,v.jsxs)(o.iP,{onTap:F,children:[(0,v.jsx)(o.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,v.jsx)(o.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),E?(0,v.jsx)(o.xv,{size:"300",color:"subtle",children:(0,l.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:y.Xq})}):(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(o.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,v.jsx)(o.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]})]});h?C&&(es=(0,v.jsxs)(k,{children:[(0,v.jsx)(B,{disabled:ea,name:Q,nameValidatorErrors:K,onChange:this.handleChangeName}),!U&&(0,v.jsx)(T,{isProtectedToggler:!!g,isToggleDisable:!!g&&!x,onChange:this.handleChangePrivacyToggle,privacy:et,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):es=(0,v.jsxs)(k,{children:[!!_&&(0,v.jsx)(A,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,v.jsx)(j,{hasCollabBoardEmail:q,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!i&&ea&&(0,v.jsx)(z,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,v.jsx)(o.xv,{color:"subtle",size:"300",children:(0,l.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,v.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:t.owner.full_name})})})]});var el=Z?o.u_:a.ZP,ec=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),eu=(0,v.jsxs)(o.xu,{paddingY:8,position:"relative",children:[(0,v.jsx)(o.X6,{align:"center",size:"500",children:ec}),(0,v.jsx)(o.xu,{position:"absolute",top:!0,left:M.isRTL,right:!M.isRTL,paddingY:8,paddingX:6,children:(0,v.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(X,{condition:!!Z,children:!er&&!en&&(0,v.jsx)(el,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:L,footer:this.getFormFooter(),heading:N,children:(0,v.jsx)(o.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,v.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ea&&es,ea&&(0,v.jsx)(D,{board:t,collabBoardEmail:q,collaboratorInvitesEnabled:$,coverPin:s,currentUserIsOwner:h,description:Y,descriptionValidatorErrors:J,handleBoardLeave:_,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleChangeName:this.handleChangeName,handleChangeDescription:this.handleChangeDescription,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),hideCollaboratorsSection:b,isCollaborative:u,showCoverEdit:ei,name:Q,nameValidatorErrors:K})]})})})}),er&&P&&(0,v.jsx)(d.Z,{children:(0,v.jsx)(W,{boardId:c,boardName:Q,coverPinId:null==s?void 0:s.pin_id,frameHeight:f,frameWidth:p,heading:eu,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),eo&&(0,v.jsx)(m.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),en&&(0,v.jsx)(d.Z,{children:(0,v.jsx)(G,{board:t,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,b.FU)(J(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,b.FU)(Y(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}}],r&&N(c.prototype,r),i&&N(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function K(e){var t=(0,s.ZP)(),r=(0,h.ZP)(),n=(0,_.Z)(),o=(0,c.F)().checkExperiment,i="control"!==o("curation_board_holdout_h1").group,a=!!n.isPrivateProfile&&o("web_hide_u16_board").anyEnabled&&!o("web_hide_u16_group_board_v2").anyEnabled;return(0,v.jsx)(Q,M(M({},e),{},{hideCollaboratorsSection:a,isDesktop:"desktop"===r,i18n:t,isSoftDeletedBoardsEnabled:i,requestContext:(0,u.B)(),toastManagerContext:(0,p.F9)()}))}V(Q,"defaultProps",{isNameAndSecretView:!1})},379764:function(e,t,r){"use strict";var n=r(908390),o=r(633988),i=new n.H3([o.Z]);t.Z=i},350118:function(e,t,r){"use strict";r.d(t,{AF:function(){return l},H0:function(){return c},S6:function(){return u},_S:function(){return d}});var n=r(506979),o=r(425288),i=r(515198),a=(0,o.Z)("Pins"),s=a.Provider,l=a.useHook,c=a.useMaybeHook;function u(){var e=l();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,i.jsx)(s,{value:r,children:t})}},698330:function(e,t,r){"use strict";r.d(t,{Tt:function(){return f},cm:function(){return d},kW:function(){return c},kY:function(){return p},mN:function(){return u}});var n=r(506979),o=r(425288),i=r(19121),a=r(515198),s=(0,o.Z)("Users"),l=s.Provider,c=s.useHook;function u(){var e=c();return function(t){return e[t]}}function d(){var e=c();return function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e).find(function(r){return e[r].username===t});if(n||!r)return e[null!=n?n:""]}}function f(){var e=(0,i.Z)().id;return c()[null!=e?e:""]}function p(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.users},n.shallowEqual);return(0,a.jsx)(l,{value:r,children:t})}},184576:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(27255),o=r(66699),i=r(134906);function a(e){var t=e.enableBizEmailValidator,r=e.i18n,a=e.inExpandedBioExp,s=(0,i.GT)({message:r._('Not a valid email.', 'Validation error message for an improperly formated email address', 'Validation error message for an improperly formated email address')}),l=function(e){return(0,i.Gy)({max:e,maxErrorString:(0,o.Z)(r._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:e})})},c=(0,i.aH)({message:r._('Your profile needs a name', 'settingsValidators.nameValidator.message', 'Error message when missing input value for name')}),u=(0,i.aH)({message:r._('Your profile needs a username', 'settingsValidators.usernameValidator.message', 'Error message when missing input value for username')}),d=(0,i.aH)({message:r._('Missed a spot!', 'Missing input value', 'Missing input value')}),f=(0,i.aH)({message:r._('Required', 'Validation error when user input is missing', 'Validation error when user input is missing')}),p=(0,i.Jx)({message:r._('Not a valid URL', 'settingsValidators.urlValidator.message', 'Validation error for an improperly formated url')}),h=(0,i.vd)({pattern:/^[\u0590-\u05FF\u0400-\u04FF\w\s]*$/,message:r._('Please do not include any special characters.', 'profile.AccountSettings.customGender.charactersValidationError', 'Error message when custom gender contains special chars')});return{about:[l(a?500:160)],biz_email:t?[f,s]:[],business_name:[c,l(65)],contact_name:[d],custom_gender:[d,h],email:[f,s],first_name:[c,l(n.Z.MAX_CHARS_FOR_FIRST_NAME)],full_name:[c,l(65)],last_name:[l(30)],location:[l(50)],username:[u],website_url:[p]}}},526760:function(e,t,r){"use strict";r.d(t,{FC:function(){return s},FP:function(){return i},M0:function(){return o},Xq:function(){return l},s0:function(){return n},z9:function(){return a}});var n=44,o=236,i=157,a=320,s=213,l=7},607989:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(908390),o=r(121151),i=r(898781),a=r(515198);function s(e){var t=e.cancelButtonLabel,r=e.confirmButtonLabel,s=e.heading,l=e.message,c=e.onCancel,u=e.onConfirm,d=(0,i.ZP)(),f=s||d._('Are you sure?', ' - ', ' -- '),p=t||d._('Cancel', ' - ', ' -- ');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:f,footer:(0,a.jsxs)(n.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(n.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,onClick:c,size:"lg",text:p})}),(0,a.jsx)(n.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,color:"red",onClick:u,size:"lg",text:r})})]}),heading:f,onDismiss:c,role:"alertdialog",children:(0,a.jsx)(n.xu,{padding:4,children:(0,a.jsx)(n.xv,{children:l})})})}},814197:function(e,t,r){"use strict";r.d(t,{Cq:function(){return u},Dk:function(){return f},Fk:function(){return o},fS:function(){return c},km:function(){return d},lI:function(){return a},lJ:function(){return i},mS:function(){return l},qW:function(){return s}});var n=r(908390),o=new n.Ry(1),i=3,a=new n.Ry(i),s=2,l=new n.Ry(s),c=3,u=4,d=new n.Ry(5),f=new n.Ry(100)},398061:function(e,t,r){"use strict";r.d(t,{Z:function(){return s},e:function(){return a}});var n=r(908390),o=r(780280),i=r(515198),a=new n.Ry(1);function s(e){var t=e.children,r=e.isImagePinForUnauthOnTablet,s=(0,o.B)().isAuthenticated;return(0,i.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:r?"40vw":void 0}},zIndex:s?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!r||void 0,top:!0,children:[(0,i.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),t]})}},633988:function(e,t,r){"use strict";var n=r(908390),o=r(398061),i=new n.H3([o.e]);t.Z=i},456416:function(e,t,r){"use strict";r.d(t,{xH:function(){return ew},uC:function(){return ex},sR:function(){return eS},DR:function(){return eg}});var n=r(76911),o=r(506979),i=r(353356),a=r(908390),s=r(407043),l=r(186656),c=r(898781),u=r(391254),d=r(773285),f=r(780280),p=r(414327),h=r(784590),_=r(984206),b=r(19121),y=r(76696),m=r(231947),v=r(814197),g=r(515198);function x(e){var t=e.boardPickerSuggestedBoards,r=e.index,o=e.item,i=e.pinId,l=e.saveSessionId,c=e.surfaceOriginViewParameter,u=e.useLegoLayout,d=(0,s.v)().logContextEvent;return(0,n.useEffect)(function(){"shortlist"===o.category&&d({aux_data:{board_picker_surface_origin:c,board_picker_suggested_boards:t,pin_id:i,save_session_id:l},event_type:13,view_type:21,view_parameter:3988})},[d,o,l,c,t,i]),(0,g.jsx)(a.xu,{paddingX:u?4:3,paddingY:1,marginTop:r>0?2:1,children:(0,g.jsx)(a.xv,{size:u?"100":"200",children:o.title})})}var S=r(27255),w=r(486746);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){R(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(s,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=I(s);if(t){var n=I(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return R(A(e=i.call.apply(i,[this].concat(r))),"state",{hovered:!1}),R(A(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),R(A(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),R(A(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(r)}),R(A(e),"handleButtonClick",function(t){var r=t.event,n=e.props.onButtonClick;e.handleTouch(),n&&n(),r.stopPropagation()}),R(A(e),"tapAreaRef",(0,n.createRef)()),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.board,r=e.logContextEvent,n=e.pinId,o=e.saveSessionId,i=e.surfaceOriginViewParameter;"boardless"===t.type&&r({aux_data:{board_picker_surface_origin:i,pin_id:n,save_session_id:o},event_type:13,view_parameter:3990,view_type:21})}},{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e=this.state.hovered,t=this.props,r=t.accessibilityLabelText,n=t.board,o=t.buttonText,i=t.displayAlreadySavedMsg,s=t.i18n,l=t.isSectionOpen,c=t.shouldOpenSections,u=t.showSaveToProfile,d=t.showFlyoutSaveButton,f=t.useLegoLayout,p=!!n.section_count&&n.section_count>0,h=n||{},_=h.images,b=h.image_cover_url,y=!(null!=b&&b.includes("custom"))&&_&&_["75x75"]&&_["75x75"][_["75x75"].length-1].url||b;return(0,g.jsx)(a.xu,{"data-test-id":p?"boardWithSection":"boardWithoutSection",children:(0,g.jsx)(a.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,g.jsxs)(a.xu,{alignItems:"center",color:e?"secondary":"default","data-test-id":"board-row-".concat(n.name||""),display:"flex",height:f?64:52,marginStart:f?2:3,marginEnd:f?2:3,marginBottom:f?0:1,marginTop:f?0:1,padding:f?2:0,rounding:3,children:[(0,g.jsxs)(a.xu,{"aria-hidden":"true",flex:"none",height:f?48:36,marginBottom:f?0:1,marginStart:f?0:2,marginEnd:f?2:3,marginTop:f?0:1,overflow:"hidden",width:f?48:36,children:[u&&"boardless"===n.type&&(0,g.jsx)(a.zd,{rounding:2,width:48,height:48,children:(0,g.jsx)(a.xu,{color:e?"default":"secondary",display:"flex",height:"100%",width:"100%",children:(0,g.jsx)(a.xu,{padding:3,children:(0,g.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Save to profile icon', 'BoardRow.TapArea.Icon', 'Icon to indicate saving to profile.'),color:"default",icon:"history",size:24})})})}),y&&!c&&(0,g.jsx)(a.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,g.jsx)(a.Ee,{src:y,alt:"",naturalHeight:f?48:36,naturalWidth:f?48:36,fit:"cover"})}),y&&c?(0,g.jsx)(a.zd,{rounding:2,wash:!0,width:f?48:36,height:f?48:36,children:(0,g.jsx)(a.Ee,{src:y,alt:"",naturalHeight:f?48:36,naturalWidth:f?48:36,fit:"cover"})}):(0,g.jsx)(a.zd,{height:f?48:36,width:f?48:36,rounding:2,children:(0,g.jsx)(a.xu,{color:c?"secondary":"transparent",width:"100%",height:"100%"})})]}),(0,g.jsxs)(a.xu,{flex:"grow",paddingY:1,overflow:"hidden",marginStart:f?0:1,children:[(0,g.jsx)(a.xv,{lineClamp:1,weight:c||!c?"bold":"normal",children:n.name}),i&&(0,g.jsx)(a.xu,{marginTop:1,children:(0,g.jsx)(a.xv,{align:"start",color:"default",size:"100",children:s._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),n&&(!e||e&&p&&!l)?(0,g.jsx)(a.xu,{children:(0,g.jsx)(w.Z,{board:n,showCollaborativeIcon:!!n.is_collaborative,showPrivateIcon:n.privacy===S.Z.BoardPrivacy.SECRET,showProtectedIcon:n.privacy===S.Z.BoardPrivacy.PROTECTED,showSectionsIcon:p&&c,useLegoLayout:f})}):null,e&&(0===n.section_count||!c)&&d&&(0,g.jsx)(a.xu,{marginEnd:f?0:2,flex:"none",children:(0,g.jsx)(a.zx,{accessibilityLabel:r||this.props.i18n._('save button', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"red",onClick:this.handleButtonClick,text:o||this.props.i18n._('Save', 'save button', 'save button')})})]})})})}}],C(s.prototype,r),o&&C(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);R(B,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var D=function(e){var t=(0,s.v)().logContextEvent,r=(0,c.ZP)();return(0,g.jsx)(B,O(O({},e),{},{i18n:r,logContextEvent:t}))},T=r(717615),z=r(24886);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(s,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=H(s);if(t){var n=H(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return V(U(e=i.call.apply(i,[this].concat(r))),"state",{hovered:!1}),V(U(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),V(U(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),V(U(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(t.section,r)}),V(U(e),"handleButtonClick",function(t){var r=t.event,n=e.props.onButtonClick;e.handleTouch(),n&&n(),r.stopPropagation()}),V(U(e),"tapAreaRef",(0,n.createRef)()),e}return r=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,t,r,n,o,i,s=this.state.hovered,l=this.props,c=l.buttonText,u=l.section,d=l.showSectionSaveButton,f=l.useLegoLayout;return(0,g.jsx)(a.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,g.jsxs)(a.xu,{color:s?"secondary":"default","data-test-id":"section-row-".concat(u.title||""),display:"flex",alignItems:"center",height:f?64:52,marginStart:f?2:0,marginEnd:f?2:0,padding:f?2:0,marginTop:f?0:1,rounding:3,dangerouslySetInlineStyle:{__style:f?{}:{marginLeft:53,marginRight:11}},children:[f&&!!(null!==(e=u.preview_pins)&&void 0!==e&&e.length)&&(0,g.jsx)(z.Z,{image_url:null!==(t=u.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(r=null===(n=u.preview_pins[0].image_square_size_pixels)||void 0===n?void 0:n.height)&&void 0!==r?r:1,naturalWidth:null!==(o=null===(i=u.preview_pins[0].image_square_size_pixels)||void 0===i?void 0:i.width)&&void 0!==o?o:1}),(0,g.jsx)(a.xu,{flex:"grow",paddingY:1,marginStart:f?0:4,children:(0,g.jsx)(a.xv,{lineClamp:1,weight:f?"bold":"normal",children:u.title})}),s&&d&&(0,g.jsx)(a.xu,{marginEnd:f?0:2,flex:"none",children:(0,g.jsx)(a.zx,{accessibilityLabel:"save button",color:"red",text:c||this.props.i18n._('Save', 'save button', 'save button'),onClick:this.handleButtonClick})})]})})}}],N(s.prototype,r),o&&N(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);function G(e){var t=(0,c.ZP)();return(0,g.jsx)(W,M(M({},e),{},{i18n:t}))}function $(e){var t=(0,c.ZP)(),r=e.board,n=e.buttonText,o=e.onClick,i=e.onButtonClick,s=e.showSectionSaveButton,l=e.useLegoLayout,u=(0,T.Z)(),d=(0,b.Z)(),f=(0,m.lJ)(d,u),p=(0,h.Z)({name:"BoardSectionsRepinResource",options:{board_id:r.id,orbac_subject_id:f},noCache:!0}),_=p&&p.data||[];return(0,g.jsxs)(a.xu,{children:[!p.isLoaded&&(0,g.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,g.jsx)(a.$j,{accessibilityLabel:t._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),p.isLoaded&&(0,g.jsxs)(a.xu,{children:[l&&(0,g.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,g.jsx)(a.xv,{size:"100",children:t._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),_.map(function(e){return(0,g.jsx)(G,{board:r,buttonText:n,onButtonClick:i,onClick:o,section:e,showSectionSaveButton:s,useLegoLayout:l},e.id)})]})]})}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e){var t,r=e.onClick,o=e.title,i=e.showIcon,s=(0,c.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1];return(0,g.jsx)(a.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:function(){r({title:o})},children:(0,g.jsxs)(a.xu,{color:u?"secondary":"default",display:"flex",alignItems:"center",height:i?64:52,marginStart:3,marginEnd:3,marginBottom:1,rounding:3,children:[(0,g.jsx)(a.xu,{flex:"none",marginBottom:1,marginStart:i?1:2,marginEnd:3,marginTop:1,overflow:"hidden",width:i?48:36,height:i?48:36,rounding:i?2:1,children:(0,g.jsx)(a.xu,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,g.jsx)(a.JO,{icon:"add",color:"default",size:20,accessibilityLabel:s._('Create board icon', 'BoardSuggestionRow.AccessibilityLabel.Text', 'accessibility label text form add icon')})})}),(0,g.jsx)(a.xu,{flex:"grow",paddingY:1,children:(0,g.jsx)(a.xv,{lineClamp:1,weight:"bold",children:o})}),u&&(0,g.jsx)(a.xu,{marginEnd:2,children:(0,g.jsx)(a.zx,{accessibilityLabel:"create button",color:"red",text:s._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function X(e){var t=(0,c.ZP)(),r=e.suggestionsResource,o=e.onClick,i=e.pinBuilderSuggestions,s=e.inWebRepinFlowExp,l=i||r&&r.data||[],u=(0,g.jsxs)(n.Fragment,{children:[s&&(0,g.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,g.jsx)(a.xv,{size:"100",children:t._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),l.map(function(e,t){return(0,g.jsx)(J,{title:e.title,onClick:o,showIcon:s},t)})]});return(0,g.jsx)(n.Fragment,{children:l?u:(0,g.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,g.jsx)(a.$j,{accessibilityLabel:t._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function K(e){var t,r=e.isBoardCreate,o=e.onCreateBoardClick,i=e.useLegoLayout,s=(0,c.ZP)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1];return(0,g.jsx)(a.xu,{"data-test-id":"create-board",height:"100%",display:"flex",children:(0,g.jsx)(a.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:o,rounding:2,children:(0,g.jsxs)(a.xu,{display:"flex",alignItems:"center",padding:i?4:2,color:u?"secondary":"default",width:"100%",height:"100%",children:[(0,g.jsx)(a.xu,{rounding:i?2:0,dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginStart:i?0:4,marginEnd:i?2:5,color:i?"secondary":"transparent",children:(0,g.jsx)(a.JO,{accessibilityLabel:"",size:i?20:28,icon:i?"add":"add-circle",color:i?"default":"error"})}),r?(0,g.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:s._('Create board', ' - ', ' -- ')}):(0,g.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:s._('Create section', ' - ', ' -- ')})]})})})}V(W,"defaultProps",{showSectionSaveButton:!0});var ee=r(615298),et=r(217641);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){ef(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return es(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function el(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ep(n.key),n)}}function ec(e,t){return(ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t,r){return(t=ep(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ep(e){var t=function(e,t){if("object"!==er(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==er(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===er(t)?t:String(t)}var eh="allBoards",e_="shortlist",eb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(c,e);var t,r,o,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ed(c);if(t){var n=ed(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===er(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,e)});function c(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return ef(eu(e=s.call.apply(s,[this].concat(n))),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,i.Z)()}),ef(eu(e),"getItems",function(t){var r=e.props,n=r.boardResource,o=r.changeBoardModal,i=r.checkExperiment,a=r.showSaveToProfile;if(!(null!=n&&n.data))return[];var s=n.data.all_boards,l=s.length>=3&&a&&i("web_top_choices_extract_profile").anyEnabled,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],u=e.getAllBoards().map(function(t,r){return e.mapBoards(t,eh,r)}),d=e.getShortlist().map(function(t,r){return e.mapBoards(t,e_,r)}),f=!l&&a&&!o&&s.length>=3?[].concat(c,ea(d.slice(0,2))):d,p=e.state.searchQuery;return p.length>=_.Z?ea((0,ee.j)(u,p)):[].concat(ea(s.length<3&&a?[{type:"header",title:e.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')}].concat(c):[]),ea(s.length>=3&&l?c:[]),ea(s.length>=3&&f&&f.length?[{category:e_,type:"header",title:t?e.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):e.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')}].concat(ea(f)):[]),ea(s.length>0?[{type:"header",title:s.length<3&&a?e.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):e.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')}].concat(ea(u)):[]))}),ef(eu(e),"mapBoards",function(t,r,n){var o=e.state,i=o.selectedBoardId,a=o.selectedBoardCategory,s=t.id===i&&r===a;return ei(ei({},t),{},{category:r,isOpen:s,gridIndex:n})}),ef(eu(e),"handleBack",function(){var t=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),t&&t(null)}),ef(eu(e),"handleSectionClick",function(t,r){var n=e.props,o=n.onItemChosen,i=n.logContextEvent,a=n.pinId,s=n.surfaceOriginViewParameter,l=e.state,c=l.saveSessionId,u=l.searchQuery;i({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,aux_data:{board_id:r.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),grid_index:r.gridIndex,is_profile_save:!1,pin_id:a,save_session_id:c,search_query:u,section_id:t.id}}),o({boardId:r.id,url:t.slug?"".concat(r.url).concat(t.slug,"/"):r.url,sectionId:t.id,title:t.title||"",type:t.type,imageCoverUrl:r.image_cover_url,ownerUsername:r.owner&&r.owner.username||""})}),ef(eu(e),"getPinBuilderSuggestions",(t=regeneratorRuntime.mark(function t(){var r,n,o,i,a,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r=e.props).logContextEvent,o=r.pinId,i=r.surfaceOriginViewParameter,a=e.state.saveSessionId,!o){t.next=7;break}return t.next=5,(0,l.Z)({url:"/v3/pins/".concat(o,"/board_title_suggestions/"),data:{pin_id:o}});case 5:(s=t.sent).resource_response.data&&(c=s.resource_response.data.map(function(e){var t;return{title:e.title,metadata:JSON.parse(null!==(t=null==e?void 0:e.metadata)&&void 0!==t?t:"{}")}})||[],e.setState({boardSuggestions:c}),n({aux_data:{board_picker_surface_origin:i,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:o,save_session_id:a},component:13282,event_type:13,view_parameter:3992,view_type:21}));case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){en(i,n,o,a,s,"next",e)}function s(e){en(i,n,o,a,s,"throw",e)}a(void 0)})})),ef(eu(e),"getAllBoards",function(){var t,r=e.props,n=r.boardResource,o=r.advertiser_id;return((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.all_boards)||[]).filter(function(e){return!o||"secret"!==e.privacy})}),ef(eu(e),"getShortlist",function(){var t,r=e.props,n=r.suggestedBoardsShortListResource,o=r.displayShortlistMostRecentBoard,i=r.boardResource,a=(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.boards_shortlist)||[];return o?a:(null==n?void 0:n.data)||[]}),ef(eu(e),"getBoards",function(t){return t===eh?e.getAllBoards():t===e_?e.getShortlist():[]}),ef(eu(e),"getSuggestedBoardsIds",function(){var t=e.props.showSaveToProfile,r=(t?e.getShortlist().slice(0,2):e.getShortlist()).map(function(e){return e.id});return t&&r.unshift("PROFILE_PINS"),r}),ef(eu(e),"getTopChoiceBoardsAuxData",function(){return(e.props.showSaveToProfile?e.getShortlist().slice(0,2):ea(e.getShortlist())).map(function(e){var t,r;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!==(t=e.recommendation_reason)&&void 0!==t?t:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!==(r=e.recommendation_reason)&&void 0!==r?r:"{}").score}})}),ef(eu(e),"getBoardTitleSuggestionsAuxData",function(){return e.state.boardSuggestions.map(function(e){return{board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}})}),ef(eu(e),"handleBoardWithSectionsClick",function(t){var r=e.props,n=r.logContextEvent,o=r.pinId,i=r.setBoardWithSection,a=r.surfaceOriginViewParameter,s=e.state,l=s.saveSessionId,c=s.searchQuery,u=s.selectedBoardId,d=s.selectedBoardCategory,f=e.getBoards(t.category).find(function(e){return e.id===t.id}),p=u===t.id&&d===t.category;n({event_type:13,component:13282,element:36,object_id_str:t.id,view_type:275,aux_data:{board_id:t.id,board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),grid_index:t.gridIndex,is_profile_save:!1,pin_id:o,save_session_id:l,search_query:c}}),f&&i&&i(f),e.setState({isSectionOpen:!0,selectedBoardId:p?"":t.id,selectedBoardCategory:p?"":t.category})}),ef(eu(e),"handleBoardClick",function(t){var r=t.board,n=t.toggleSections,o=e.props,i=o.logContextEvent,a=o.onItemChosen,s=o.pinId,l=o.surfaceOriginViewParameter,c=e.state,u=c.saveSessionId,d=c.searchQuery;e.setState({searchBoxFocused:!1}),n?(i({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:r.category===e_?3988:3989,aux_data:{board_id:r.id,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),grid_index:r.gridIndex,is_profile_save:!1,pin_id:s,save_session_id:u,search_query:d}}),e.handleBoardWithSectionsClick({category:r.category,gridIndex:r.gridIndex,id:r.id})):(i("boardless"===r.type?{event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:3990,aux_data:{board_id:r.id,board_component:3990,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),grid_index:r.gridIndex,is_profile_save:!0,pin_id:s,save_session_id:u,search_query:d}}:{event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:r.category===e_?3988:3989,aux_data:{board_id:r.id,board_component:r.category===e_?3988:3989,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),grid_index:r.gridIndex,is_profile_save:"boardless"===r.type,pin_id:s,save_session_id:u,search_query:d}}),a({boardId:r.id,url:r.url,title:r.name||"",type:r.type,imageCoverUrl:r.image_cover_url,privacy:r.privacy}))}),ef(eu(e),"handleSearchQueryUpdate",function(t){e.setState(function(e){return ei(ei({},e),{},{searchQuery:t})})}),ef(eu(e),"handleCreateBoardClick",function(t){var r=e.props,n=r.logContextEvent,o=r.onBoardCreate,i=r.pinId,a=r.surfaceOriginViewParameter,s=e.state,l=s.saveSessionId,c=s.searchQuery;n({event_type:101,component:13282,element:249,view_type:91,view_parameter:t?87:3132,aux_data:{board_component:t?87:3132,board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:i,save_session_id:l,search_query:c}}),o({title:c})}),ef(eu(e),"handleBoardSuggestionClick",function(t){var r=e.props,n=r.logContextEvent,o=r.onBoardCreate,i=r.pinId,a=r.surfaceOriginViewParameter,s=e.state.saveSessionId;n({event_type:101,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:a,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:i,save_session_id:s}}),o(t)}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,r=e.pinId,n=e.setBoardWithSection,o=e.surfaceOriginViewParameter,i=this.state.saveSessionId;n&&n(null),t({event_type:13,component:13282,element:10960,aux_data:{board_picker_surface_origin:o,pin_id:r,save_session_id:i}})}},{key:"componentDidUpdate",value:function(e){var t,r,n=this.state.saveSessionId;!(null!==(t=e.suggestedBoardsShortListResource)&&void 0!==t&&t.isLoaded)&&null!==(r=this.props.suggestedBoardsShortListResource)&&void 0!==r&&r.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:n}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.accessibilityLabelText,o=t.boardResource,i=t.buttonText,s=t.changeBoardModal,l=t.customItem,c=t.onButtonClick,d=t.paneHeight,f=t.paneWidth,p=t.pinAlreadySavedBoard,h=t.pinId,_=t.requestContext,b=t.showSaveToProfile,y=t.showCreateBoardButton,m=t.showFlyoutSaveButton,S=t.showSections,w=t.showSectionSaveButton,P=t.suggestedBoardsShortListResource,j=t.surfaceOriginViewParameter,O=t.useStoryboardStyle,C=t.useLegoLayout,E=this.state,A=E.boardSuggestions,I=E.isSectionOpen,R=E.saveSessionId,k=E.searchBoxFocused,B=E.searchQuery;if(!o)return null;var T=o.isLoaded,z=o.error,L=[];(T&&!z||P&&P.data&&!P.error)&&(L=this.getItems(!!C));var F=L.filter(function(e){return e&&e.category===eh}).length;F<=3&&0===A.length&&this.getPinBuilderSuggestions();var M=O?200:322,N=O?214:334,Z=d||290,U=JSON.stringify(this.getTopChoiceBoardsAuxData()),H=_.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",V="";null!==I&&(V=_.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var q=function(t){return(0,g.jsxs)(n.Fragment,{children:[!C&&(0,g.jsx)(a.iz,{}),(0,g.jsx)(a.xu,{overflow:"hidden",height:C?80:52,borderStyle:C&&F>=3&&L.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},children:(0,g.jsx)(K,{onCreateBoardClick:function(){return e.handleCreateBoardClick(t)},isBoardCreate:t,useLegoLayout:C})})]})};return(0,g.jsxs)(a.xu,{width:C&&!s?"100%":f,rounding:2,overflow:"hidden",height:O||s?"100%":C?498:439,color:"default",zIndex:v.lI,children:[(0,g.jsx)(u.Z,{unsafeCSS:"\n.BoardsSlideLeft {\n  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRight {\n  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideLeftRTL {\n  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRightRTL {\n  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n@keyframes boardFlyoutSlideLeft {\n  from {\n    margin-left: 0%;\n  }\n\n  to {\n    margin-left: -100%;\n  }\n}\n\n@keyframes boardFlyoutSlideRight {\n  from {\n    margin-left: -100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideLeftRTL {\n  from {\n    margin-right: -100%;\n  }\n\n  to {\n    margin-right: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideRightRTL {\n  from {\n    margin-right: 0%;\n  }\n\n  to {\n    margin-right: -100%;\n  }\n}\n"}),T?null:(0,g.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:C&&!s?360:f,children:(0,g.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,g.jsx)(a.kC,{direction:"row",children:T&&(0,g.jsx)("div",{className:I?H:V,children:(0,g.jsx)(a.xu,{position:"relative",children:(0,g.jsxs)(a.xu,{display:"flex",direction:"row",width:C&&!s?720:(null!=f?f:0)*2,zIndex:new a.Ry(0),children:[(0,g.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:C&&!s?360:f,children:[C&&!s&&(0,g.jsx)(a.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,g.jsx)(a.xv,{align:"center",size:"300",weight:"bold",children:b?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text')})}),!s&&(0,g.jsx)(a.xu,{padding:C?0:3,paddingX:C?4:3,height:C?64:"auto",children:(0,g.jsx)(et.Z,{accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:k,id:"pickerSearchField",onChange:function(t){var r=t.value;return e.handleSearchQueryUpdate(r)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),value:B})}),(0,g.jsxs)(a.xu,{minHeight:C?290:M,maxHeight:C?Z:M,overflow:"scrollY",children:[P&&!P.isLoaded?(0,g.jsx)(a.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,g.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,g.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,l,L.map(function(t,n){return"header"===t.type?(0,g.jsx)(x,{boardPickerSuggestedBoards:U,item:t,index:n,pinId:h,saveSessionId:R,surfaceOriginViewParameter:j,useLegoLayout:C},"".concat(t.title)):(0,g.jsx)(a.xu,{children:(0,g.jsx)(D,{accessibilityLabelText:r,board:t,buttonText:i,displayAlreadySavedMsg:p&&p.id===t.id,onClick:function(t){e.handleBoardClick({board:t,toggleSections:S&&!!t.section_count})},onButtonClick:c,pinId:h,saveSessionId:R,shouldOpenSections:S,showFlyoutSaveButton:m,showSaveToProfile:b,surfaceOriginViewParameter:j,useLegoLayout:C})},"".concat(t.category,"-").concat(t.id))}),F<=3&&(0,g.jsx)(X,{onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:A,inWebRepinFlowExp:C})]}),y&&q(!0)]}),I&&(0,g.jsxs)(a.xu,{display:"flex",direction:"column",width:C&&!s?360:f,marginBottom:C?2:0,children:[(0,g.jsxs)(a.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,g.jsx)(a.sg,{span:2,children:(0,g.jsx)(a.xu,{display:"flex",justifyContent:"start",alignContent:"center",alignItems:"center",marginStart:3,children:(0,g.jsx)(a.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,g.jsx)(a.sg,{span:8,children:(0,g.jsx)(a.kC,{alignItems:"center",height:C?64:52,justifyContent:"center",children:(0,g.jsx)(a.xv,{weight:"bold",children:C?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header')})})}),(0,g.jsx)(a.sg,{span:2,children:(0,g.jsx)(a.xu,{})})]}),!C&&(0,g.jsx)(a.iz,{}),(0,g.jsx)(a.xu,{minHeight:C?354:N,maxHeight:C?Z:N,overflow:"scrollY",children:L?(0,g.jsx)(n.Fragment,{children:L&&L.map(function(t){return"header"===t.type?null:(0,g.jsx)(a.xu,{children:t.isOpen&&(0,g.jsxs)(n.Fragment,{children:[C&&(0,g.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,g.jsx)(a.xv,{size:"100",children:e.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,g.jsx)(D,{board:t,buttonText:i,displayAlreadySavedMsg:p&&p.id===t.id,isSectionOpen:!0,onClick:function(t){e.handleBoardClick({board:t,toggleSections:!1})},onButtonClick:c,saveSessionId:R,shouldOpenSections:!1,showFlyoutSaveButton:m,useLegoLayout:C}),(0,g.jsx)($,{board:t,buttonText:i,onClick:e.handleSectionClick,onButtonClick:c,showSectionSaveButton:w,useLegoLayout:C})]})},"".concat(t.category,"-").concat(t.id))})}):null}),y&&!s&&q(!1)]})]})})})})]})}}],el(c.prototype,r),o&&el(c,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.PureComponent);function ey(e){var t=(0,s.v)().logContextEvent,r=(0,c.ZP)(),n=(0,d.F)().checkExperiment;return(0,g.jsx)(eb,ei(ei({},e),{},{checkExperiment:n,requestContext:(0,f.B)(),i18n:r,logContextEvent:t}))}function em(e,t,r){var n=e.advertiser,o={};if(r&&r.user&&r.user.username&&r.id!==t.id&&(o.orbacActingAs=r,o.username=r.user.username),t&&n){var i=e.advertiser;if(t.isAuth&&i.is_impersonation)return ei({hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id},o);if(t.isAuth&&i.owner_user_id!==t.id)return ei({hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id},o);if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return ei({advertiser_id:void 0,hasMUA:void 0},o)}function ev(e){var t=e.advertiser_id,r=e.hasMUA,n=e.boardFilter,o=void 0===n?"all":n,i=e.username,a=ei(ei({field_set_key:"board_picker",filter:r?"protected":o},i?{username:i}:Object.freeze({})),t?{advertiser_id:t}:{});return(!e.useStoryboardStyle||e.isORBACBeta)&&e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(a=ei(ei({},a),{},{username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:o})),a}function eg(e,t){return function(r,n){return r((0,p.jB)("BoardPickerBoardsResource",ev(em(n(),e,t))))}}function ex(e){var t=(0,b.Z)(),r=(0,o.useSelector)(function(r){return em(r,t,e.orbacActingAs)}),n=ei(ei({},e),r),i=(0,h.Z)({name:"BoardPickerBoardsResource",options:ev(n)});return(0,g.jsx)(ey,ei(ei({},n),{},{boardResource:i}))}function eS(e){var t=(0,y.Z)(),r=(0,b.Z)(),n=(0,m.lJ)(r,t),o=(0,d.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled;return(0,g.jsx)(ex,ei(ei({},e),{},{orbacActingAs:n?t:void 0,isORBACBeta:o}))}function ew(e){var t=(0,h.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),r=(0,h.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(e.pinId,"/"),field_sets:["pin.pinned_to_board()"]},noCache:!0}).data;return(0,g.jsx)(ey,ei(ei({},e),{},{suggestedBoardsShortListResource:t,pinAlreadySavedBoard:null==r?void 0:r.pinned_to_board}))}ef(eb,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},274495:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(908390),o=r(515198),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:i,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function s(e){var t=e.disabled,r=e.name,i=e.onClick,s=e.size,l=e.submitting,c=e.text;return(0,o.jsxs)(n.xu,{display:"flex",position:"relative","data-test-id":"submit-button",children:[l&&(0,o.jsx)(a,{}),(0,o.jsx)(n.zx,{color:"red",disabled:t||l,name:r,onClick:i,size:s,type:"submit",text:c})]})}},505132:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(121151),i=r(898781),a=r(780280),s=r(553751),l=r(515198);function c(e){var t=(0,i.ZP)(),r=e.onSectionCreate,c=e.onClose,u=e.selectedBoard,d=e.useLayer,f=(0,a.B)().isRTL,p=void 0===d||d?o.ZP:n.u_,h=(0,l.jsx)(n.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,l.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[(0,l.jsx)(n.xu,{maxWidth:400,children:(0,l.jsx)(n.X6,{align:"center",size:"500",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,l.jsx)(n.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,l.jsx)(n.hU,{icon:"cancel",iconColor:"darkGray",size:"lg",accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),onClick:c})})]})});return(0,l.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:h,onDismiss:c,size:"sm",children:(0,l.jsx)(n.xu,{display:"flex",color:"default",rounding:2,children:(0,l.jsx)(s.Z,{board:u,completeCreateSectionAction:r,onClearModal:c,positionRelative:!0,showTitle:!1})})})}},239682:function(e,t,r){"use strict";function n(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}r.d(t,{Z:function(){return n}})},59644:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},240265:function(e,t,r){"use strict";r.d(t,{O:function(){return c},Q:function(){return u}});var n=r(414327),o=r(59644),i=r(956800);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var l=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],c={name:"BoardsResource",key:"boardsResource",options:function(e,t){var r=e.boardOrder,n=e.filterStories,o=e.mixPublicSecret;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({privacy_filter:"all",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:n,username:e.username,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},u=function(e){return l.reduce(function(t,r){var a=[(0,i.N8)("profileBoards",(0,o.Z)(e,r))];return[!0,!1].forEach(function(t){[!0,!1].forEach(function(o){a.push((0,n.jB)(c.name,c.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:o})))})}),t.concat(a)},[])}},254176:function(e,t,r){"use strict";r.d(t,{Br:function(){return m},Cr:function(){return R},K8:function(){return P},L1:function(){return L},Tq:function(){return S},YQ:function(){return z},YV:function(){return I},ZP:function(){return k},aX:function(){return B},eo:function(){return g},fJ:function(){return M},md:function(){return v},oG:function(){return x},oL:function(){return D},of:function(){return j},xH:function(){return w},xQ:function(){return O},xR:function(){return T},xk:function(){return E},yT:function(){return y},zS:function(){return F}});var n=r(214494),o=r(27255),i=r(186656),a=r(248327),s=r(414327),l=r(239682),c=r(240265),u=r(956800),d=r(492583);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,s,"next",e)}function s(e){p(i,n,o,a,s,"throw",e)}a(void 0)})}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function v(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function g(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var x=function(e,t){return function(r){return r((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function S(e,t,r){return(0,a.U)("BoardResource",{options:b({board_id:e,field_set_key:t},r?{orbac_subject_id:r}:{})})}function w(e,t,r){return function(n){return(0,i.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(t,"/"),method:"POST",data:r?{orbac_subject_id:r}:{}}).then(function(){return Promise.all([n(g({boardId:e})),n(S(t,"pin_count")),n((0,u.N8)(d.Z.BOARD_SECTIONS,t))])})}}function P(e){return function(t){e&&(0,c.Q)(e).forEach(function(e){t(e)})}}var j=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},O=function(e){return x(e,"pin_count")};function C(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function E(e,t){return function(r){return r(C(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate()}}function A(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function I(e,t){return function(r){return r(A(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete()}}var R=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},k=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function B(e,t,r){var i=b({name:e,privacy:o.Z.BoardPrivacy.PUBLIC,username:t},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return n.Z.create("BoardResource",i).callCreate().then(function(r){var n=r.resource_response.data;return e(t&&(0,s.jB)("BoardsResource",(0,l.Z)(t,!1))),n})}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}var T=function(e,t,r){var o;return o=h(regeneratorRuntime.mark(function o(i){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),o.next=3,n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();case 3:return(a=o.sent).resource_response.error||r({event_type:29,object_id_str:e}),o.abrupt("return",a);case 6:case"end":return o.stop()}},o)})),function(e){return o.apply(this,arguments)}},z=function(e,t,r,o,i,a){var s;return s=h(regeneratorRuntime.mark(function s(l){var c,u,d;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",l({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!==(c=null==o?void 0:o.id)&&void 0!==c?c:"",viewingUser:r}}),s.prev=2,s.next=5,n.Z.create(u,b({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==o?void 0:o.id)&&void 0!==d?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:s.sent.resource_response.error||i({event_type:"accepted"===t?25:29,object_id_str:e}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),l({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:r,status:t,collaboratingUsers:[o]}});case 12:case"end":return s.stop()}},s,null,[[2,9]])})),function(e){return s.apply(this,arguments)}},L=function(e,t,r,o){return function(i){var a=n.Z.create("BoardResource",{board_id:r}).callDelete();return i(g({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:o})),a}},F=function(e,t){return function(r){return n.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(function(n){return r((0,u.Qv)("archived-boards",[{id:e,type:"board"}])),r(C(e,t)),n})}},M=function(e,t){return function(r){return n.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(function(n){return r((0,u.Qv)("profile-boards:".concat(t),[{id:e,type:"board"}])),r(A(e)),n})}}},956800:function(e,t,r){"use strict";function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return n},vX:function(){return s}});var i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},492583:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},960278:function(e,t,r){"use strict";r.d(t,{I:function(){return u}});var n=r(773285),o=r(784590),i=r(845772),a=["children"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=e.boardId,r=e.ownerUsername,a=e.ownerName,c=e.ownerImgSrc,u=(0,n.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,d=(0,i.Z)(),f=(0,o.Z)({name:"BoardInvitesResource",options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},u&&d?{orbac_subject_id:d}:{})}),p=f.data,h=f.isLoaded,_=[{name:a,src:c,href:"/".concat(r,"/"),isDim:!1}];return h&&p&&p.length>0&&p.forEach(function(e){_.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),_};function u(e){return(0,e.children)(c(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a)))}t.Z=c},217641:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(76911),o=r(908390),i=r(515198);function a(e){var t=e.accessibilityLabel,r=e.focused,a=e.id,s=e.onBlur,l=e.onChange,c=e.onFocus,u=e.placeholder,d=e.value,f=e.size,p=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(r){var e=p.current;window.requestAnimationFrame(function(){var t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[r]),(0,i.jsx)(o.xu,{ref:p,children:(0,i.jsx)(o.Um,{accessibilityLabel:t,id:a,onBlur:s,onChange:l,onFocus:c,placeholder:u,size:void 0===f?"lg":f,value:d})})}},553751:function(e,t,r){"use strict";var n=r(76911),o=r(506979),i=r(908390),a=r(112690),s=r(898781),l=r(755742),c=r(19121),u=r(717615),d=r(231947),f=r(274495),p=r(678638),h=r(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(a);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),S(g(t=o.call(this,e)),"onCreateSection",function(){var e=t.props,r=e.board,n=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,s=e.pinImport,l=e.viewer,c=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(l,c);return t.setState({isSaving:!0}),i((0,p.vB)({boardId:r.id,sourceBoardId:n&&n.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:s},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),S(g(t),"handleKeyDown",function(e){var r=e.event,n=t.state,o=n.createError,i=n.inputName;[l.Z.ENTER,l.Z.NUMPAD_ENTER].includes(r.which)&&!o&&i.trim()&&t.onCreateSection()}),S(g(t),"handleChangeName",function(e){var r=e.value;t.setState({createError:null,inputName:r})}),S(g(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return r=[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.createError,o=r.inputRef;o&&(!t.inputRef||n)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,r=e.positionRelative,n=this.state,o=n.createError,a=n.inputName,s=n.isSaving,l=!!a.trim()&&!o;return(0,h.jsxs)(i.xu,{display:"flex",direction:"column",color:"default",flex:"grow",top:!0,bottom:!0,right:!0,position:r?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[t&&(0,h.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,h.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,h.jsxs)(i.xu,{padding:4,children:[(0,h.jsx)(i.xu,{marginBottom:2,children:(0,h.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,h.jsx)(i.xv,{size:"200",color:o?"error":"subtle",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,h.jsx)(i.xu,{children:(0,h.jsx)(i.xu,{ref:this.handleInputRef,children:(0,h.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,h.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,h.jsx)(i.xu,{padding:4,children:(0,h.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,h.jsx)(f.Z,{disabled:!l||s,onClick:this.onCreateSection,submitting:s,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],m(a.prototype,r),n&&m(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);t.Z=function(e){var t=(0,o.useDispatch)(),r=(0,s.ZP)(),n=(0,c.Z)(),i=(0,u.Z)();return(0,h.jsx)(P,y(y({},e),{},{dispatch:t,i18n:r,logContextEvent:(0,a.Z)(),viewer:n,orbacActingAs:i}))}},207108:function(e,t,r){"use strict";var n=r(908390),o=r(515198);t.Z=function(e){var t=e.accessibilityLevel,r=e.isFirst,i=e.title;return(0,o.jsx)(n.xu,{marginTop:r?8:7,marginBottom:2,children:(0,o.jsx)(n.X6,{accessibilityLevel:t,size:"400",children:i})})}},109892:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(506979),o=r(833314),i=r(214494),a=r(332611),s=r(886858),l=r(248327),c=r(414327);function u(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function d(){var e,t,r=(0,n.useDispatch)(),d=(0,n.useSelector)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(t){var n,u,f,p,h,_,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.boardCreateOptions,f=t.deprecatedSchemaForNormalization,e.next=3,i.Z.create("BoardResource",u).callCreate();case 3:return h=(p=e.sent).resource_response.data,_=f?(0,o.Fv)(h,f):void 0,r((0,c.XM)("BoardResource",u,p,_)),r((0,a.fO)({event_type:20})),null!==(n=h.owner)&&void 0!==n&&n.id&&r((0,l.b)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}})),b=d.BoardsResource||{},y=d.BoardsFeedResource||{},Object.keys(b).forEach(function(e){var t;(0,s.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&r((0,c.jB)("BoardsResource",e))}),Object.keys(y).forEach(function(e){var t;(0,s.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&r((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",h);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,s,"next",e)}function s(e){u(i,n,o,a,s,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},502410:function(e,t,r){"use strict";r.d(t,{Z:function(){return ed}});var n=r(599689),o=r(908390),i=r(76911),a=r(214494),s=r(915206),l=r(499128),c=r(898781),u=r(349700),d=r(784590),f=r(343341),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(d,e);var t,r,n,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(d);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(v(e=c.call.apply(c,[this].concat(r))),"state",{editState:"none",editingFeed:null,feedUrl:"",isSaving:!1,selectedBoard:null,showFlyout:!1}),x(v(e),"anchor",(0,i.createRef)()),x(v(e),"resetState",function(){e.mounted&&e.setState({editState:"none",editingFeed:null,feedUrl:"",isSaving:!1,selectedBoard:null})}),x(v(e),"handleBoardSelection",function(t){e.setState({selectedBoard:t})}),x(v(e),"handleSaveFeed",function(){var t=e.props.rssFeedResource,r=e.state,n=r.editState,o=r.editingFeed,i=r.feedUrl,s=r.selectedBoard;i&&s&&(e.setState({isSaving:!0}),"add"===n?a.Z.create("RssFeedResource",{url:i,board:s.boardId,section:s.sectionId}).callCreate().then(function(){e.showToast({text:e.props.i18n._('RSS feed added', 'Toast text when RSS feed is successfully added.', 'Toast text when RSS feed is successfully added.')}),t.refresh(),e.resetState()}).catch(function(t){e.showToast({text:t.message,error:!0}),e.mounted&&e.setState({isSaving:!1})}):"edit"===n&&o&&(o.url!==i||o.board!==s.boardId||o.section!==s.sectionId?a.Z.create("RssFeedResource",{url:o.url,new_url:i,board:s.boardId,section:s.sectionId,disabled:o.disabled}).callUpdate().then(function(){e.showToast({text:e.props.i18n._('RSS feed updated', 'Toast text when RSS feed is successfully updated.', 'Toast text when RSS feed is successfully updated.')}),t.refresh(),e.resetState()}).catch(function(t){e.showToast({text:t.message,error:!0}),e.mounted&&e.setState({isSaving:!1})}):e.resetState()))}),x(v(e),"handleHelpIconClick",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),x(v(e),"handleFlyoutClose",function(){e.setState({showFlyout:!1})}),x(v(e),"handleAddFeed",function(){e.setState({editState:"add",editingFeed:null})}),x(v(e),"handleEditFeed",function(t){e.setState({editState:"edit",editingFeed:t,feedUrl:t.url,selectedBoard:{boardId:t.board,title:t.section?t.section_title:t.board_name}})}),x(v(e),"handleRemoveFeed",function(){var t=e.state,r=t.editState,n=t.editingFeed;if("edit"===r&&n){var o=e.props.rssFeedResource;a.Z.create("RssFeedResource",{url:n.url}).callDelete().then(function(){e.showToast({text:e.props.i18n._('RSS feed deleted', 'Toast text when RSS feed is successfully deleted.', 'Toast text when RSS feed is successfully deleted.')}),o.refresh(),e.resetState()}).catch(function(t){e.showToast({text:t.message,error:!0})})}else e.resetState()}),x(v(e),"showToast",function(t){var r=t.text,n=t.error;e.props.toastManagerContext.showToast(function(e){var t=e.hideToast;return(0,p.jsx)(o.xu,{"data-test-id":"connect-rss-toast",children:(0,p.jsx)(l.ZP,{duration:3e3,onHide:t,text:r,type:n?"error":void 0})})})}),x(v(e),"renderFeed",function(t){return(0,p.jsxs)(o.xu,{display:"flex",alignItems:"center",paddingY:1,children:[(0,p.jsxs)(o.xu,{minWidth:480,width:480,children:[(0,p.jsx)(o.xv,{size:"200",children:e.props.i18n._('RSS Feed URL', 'connect.rss.feed.url', 'Header text for the RSS feed url')}),(0,p.jsx)(o.xv,{lineClamp:1,weight:"bold",children:t.url})]}),(0,p.jsxs)(o.xu,{flex:"grow",marginStart:2,children:[(0,p.jsx)(o.xv,{size:"200",children:e.props.i18n._('Saved Pins to', 'connect.rss.saved.pins.button', 'Header text for the board to save Pins to')}),(0,p.jsx)(o.xv,{lineClamp:1,weight:"bold",children:t.section?t.section_title:t.board_name})]}),(0,p.jsx)(o.xu,{marginStart:2,flex:"none",children:(0,p.jsx)(o.zx,{name:"edit-rss-feed-button",color:"gray",disabled:"none"!==e.state.editState,onClick:function(){return e.handleEditFeed(t)},text:e.props.i18n._('Edit', 'Button text to edit the RSS feed', 'Button text to edit the RSS feed'),size:"md"})})]})}),x(v(e),"renderEditingFeed",function(){var t=e.state,r=t.feedUrl,n=t.isSaving,a=t.selectedBoard;return(0,p.jsx)(o.xu,{paddingY:1,children:(0,p.jsxs)(o.kC,{direction:"column",children:[(0,p.jsxs)(o.xu,{children:[(0,p.jsx)(o.xu,{width:480,marginBottom:2,children:(0,p.jsx)(o.xv,{size:"200",children:e.props.i18n._('RSS Feed URL', 'Header text for the RSS feed url', 'Header text for the RSS feed url')})}),(0,p.jsx)(o.xu,{width:480,children:(0,p.jsx)(o.nv,{disabled:n,id:"website_url",name:"website_url",onChange:function(t){var r=t.value;e.setState({feedUrl:r.trim()})},placeholder:"".concat(e.props.i18n._('ex.', 'Abbreviation for "For example"', 'Abbreviation for "For example"')," www.yoursite.com/rss"),size:"lg",value:r})})]}),(0,p.jsxs)(o.xu,{marginTop:4,children:[(0,p.jsx)(o.xu,{marginBottom:2,children:(0,p.jsx)(o.xv,{size:"200",children:e.props.i18n._('Save Pins to', 'Header text for the board to save Pins to', 'Header text for the board to save Pins to')})}),(0,p.jsx)(o.xu,{width:480,children:(0,p.jsxs)(o.kC,{alignItems:"center",children:[(0,p.jsx)(s.Z,{showButton:!1,onItemChosen:e.handleBoardSelection,placeholder:e.props.i18n._('Select a Board', 'Placeholder text for board dropdown to select board', 'Placeholder text for board dropdown to select board'),selectedItem:a,showFlyoutSaveButton:!1,showSectionSaveButton:!1}),n?(0,p.jsx)(o.xu,{marginStart:1,children:(0,p.jsx)(o.$j,{show:!0,accessibilityLabel:e.props.i18n._('Saving spinner', 'A spinner shows when saving a feeed', 'A spinner shows when saving a feeed')})}):(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(o.xu,{marginStart:2,children:(0,p.jsx)(o.zx,{name:"save-rss-feed-button",color:"red",disabled:!r||!a,onClick:e.handleSaveFeed,text:e.props.i18n._('Save', 'Button text to save the RSS feed', 'Button text to save the RSS feed'),size:"md"})}),(0,p.jsx)(o.xu,{marginStart:1,children:(0,p.jsx)(o.hU,{accessibilityLabel:e.props.i18n._('Delete the RSS feed', 'Accessibility label for deleting RSS feed icon', 'Accessibility label for deleting RSS feed icon'),icon:"trash-can",onClick:e.handleRemoveFeed,size:"md",iconColor:"gray"})})]})]})})]})]})})}),e}return r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,r=t.editState,n=t.editingFeed,i=t.showFlyout,a=this.props.rssFeedResource.data,s=a&&a.filter(function(e){return!e.source});return(0,p.jsxs)(o.xu,{marginTop:6,children:[(0,p.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(o.xv,{weight:"bold",children:this.props.i18n._('Auto-publish', 'Section title shown to user that they can publish content automatically', 'Section title shown to user that they can publish content automatically')}),(0,p.jsxs)(o.xu,{marginStart:1,children:[(0,p.jsx)(o.xu,{ref:this.anchor,children:(0,p.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Auto-publish help', 'Accessibility label for auto-publish help icon', 'Accessibility label for auto-publish help icon'),bgColor:"lightGray",icon:"question-mark",iconColor:"darkGray",size:"xs",onClick:this.handleHelpIconClick})}),i&&(0,p.jsx)(o.J2,{anchor:this.anchor.current,idealDirection:"right",onDismiss:this.handleFlyoutClose,size:"md",color:"darkGray",children:(0,p.jsx)(o.xu,{padding:3,children:(0,p.jsx)(o.xv,{color:"inverse",size:"200",children:this.props.i18n._('After your feed is connected it can take up to 24 hours before Pins are created.', 'Text to tell user what to expect after a feed is connected.', 'Text to tell user what to expect after a feed is connected.')})})})]})]}),(0,p.jsx)(o.xu,{paddingY:1,children:(0,p.jsx)(o.xv,{size:"200",children:(0,u.nk)(this.props.i18n._('Connect an RSS feed to auto-publish from this domain. {{ learnMore }}', 'Descriptive text on how the auto-push works', 'Descriptive text on how the auto-push works'),{learnMore:(0,p.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/business/article/auto-publish-pins-from-your-rss-feed",target:"blank",underline:"hover",children:this.props.i18n._('Learn more', 'Text link for learning more about RSS auto publish', 'Text link for learning more about RSS auto publish')})},"learn-more-text")})})}),!!s&&s.map(function(t){return(0,p.jsx)(o.xu,{children:n&&t.url===n.url?e.renderEditingFeed():e.renderFeed(t)},t.url)}),"add"===r&&(0,p.jsx)(o.xu,{display:"flex",paddingY:2,children:this.renderEditingFeed()}),"none"===r&&(0,p.jsx)(o.xu,{paddingY:2,children:(0,p.jsx)(o.zx,{name:"add-new-feed-button",color:"gray",onClick:this.handleAddFeed,text:s&&s.length>0?this.props.i18n._('Add another', 'Button text to add another feed', 'Button text to add another feed'):this.props.i18n._('Connect RSS Feed', 'Button text to connect a RSS feed', 'Button text to connect a RSS feed'),size:"md"})}),(0,p.jsx)(o.xu,{marginTop:4,children:(0,p.jsx)(o.iz,{})})]})}}],y(d.prototype,r),n&&y(d,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(i.Component);function P(e){var t=(0,c.ZP)(),r=(0,d.Z)({name:"RssFeedResource"}),n=(0,f.F9)();return(0,p.jsx)(w,b(b({},e),{},{rssFeedResource:r,toastManagerContext:n,i18n:t}))}var j=r(966113),O=r(19121),C=r(475406),E=r.n(C),A=r(454074),I=r(813171),R=r(556663),k=r(121151);function B(e){var t=e.onHideModal,r=e.onRemoveFile,n=(0,c.ZP)(),a=(0,i.useCallback)(function(){r(),t()},[t,r]);return(0,p.jsx)(k.ZP,{accessibilityModalLabel:n._('View CSV Importer errors', 'Label describes the CSV Importer modal which displays success or errors of the import.', 'Label describes the CSV Importer modal which displays success or errors of the import.'),heading:n._('Upload successful', 'Header of the csv importer modal indicating upload success', 'Header of the csv importer modal indicating upload success'),footer:(0,p.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsx)(o.zx,{color:"red",size:"md",text:n._('Got it', 'Button to acknowledge file was successful and dismiss the dialog', 'Button to acknowledge file was successful and dismiss the dialog'),onClick:a})}),onDismiss:a,size:"lg",children:(0,p.jsx)(o.xu,{padding:6,children:(0,p.jsx)(o.xu,{marginBottom:7,children:(0,p.jsx)(o.xv,{children:n._('Success! Your file was uploaded and your Pins are being created. This usually takes about 2 hours. If there\u2019s an issue creating your Pins you\u2019ll be notified by email. ', 'Text for successful upload', 'Text for successful upload')})})})})}var D={borderStyle:{border:"dashed 2px #dadada",borderRadius:6},inputStyle:{cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0}};function T(e){var t=e.isModalOpen,r=e.onDrop,n=e.onFileChange,i=e.onHideModal,a=e.onRemoveFile,s=(0,c.ZP)();return(0,p.jsx)(R.Z,{onDrop:r,height:eo,children:function(){return(0,p.jsxs)(o.xu,{height:"100%",padding:2,position:"relative",dangerouslySetInlineStyle:{__style:D.borderStyle},rounding:2,children:[(0,p.jsxs)(o.kC,{alignItems:"center",direction:"row",height:"100%",justifyContent:"start",children:[(0,p.jsx)(o.xu,{padding:4,children:(0,p.jsx)(o.JO,{color:"subtle",icon:"arrow-circle-up",accessibilityLabel:s._('Upload a .csv file', 'Icon to indicate where users can upload a .csv file', 'Icon to indicate where users can upload a .csv file'),size:24})}),(0,p.jsx)(o.xv,{align:"center",color:"default",overflow:"normal",children:s._('Drop your .csv file here or click to upload a file', 'Text to instruct users to drag or click to upload a .csv file', 'Text to instruct users to drag or click to upload a .csv file')})]}),(0,p.jsx)("input",{id:"csv-input",style:D.inputStyle,type:"file",accept:".csv",onChange:n}),t&&(0,p.jsx)(B,{onHideModal:i,onRemoveFile:a})]})}})}function z(e){var t=e.onDismiss,r=e.onDownload,n=(0,c.ZP)(),a=(0,i.useCallback)(function(){t()},[t]),s=(0,i.useCallback)(function(){t(),r()},[t,r]);return(0,p.jsx)(k.ZP,{accessibilityModalLabel:n._('View CSV Importer errors', 'Label describes the CSV Importer modal which displays success or errors of the import.', 'Label describes the CSV Importer modal which displays success or errors of the import.'),heading:n._('Hmm\u2026that didn\u2019t work', 'Header of CSV importer modeal indicating there are errors', 'Header of CSV importer modeal indicating there are errors'),footer:(0,p.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsx)(o.zx,{color:"red",size:"md",text:n._('Download report', 'Download button to redownload the .csv with an extra error column explaining errors', 'Download button to redownload the .csv with an extra error column explaining errors'),onClick:s})}),onDismiss:a,size:"lg",children:(0,p.jsxs)(o.xu,{padding:6,children:[(0,p.jsxs)(o.xu,{display:"flex",alignItems:"center",marginBottom:4,children:[(0,p.jsx)(o.JO,{icon:"alert",color:"error",accessibilityLabel:n._('Status icon', 'Icon to indicating there are errors with CSV Importer', 'Icon to indicating there are errors with CSV Importer'),size:16}),(0,p.jsx)(o.xu,{marginStart:3,children:(0,p.jsx)(o.xv,{weight:"bold",children:n._('Your file has a few errors', 'Modal title indicating row errors with CSV Importer', 'Modal title indicating row errors with CSV Importer')})})]}),(0,p.jsx)(o.xu,{marginBottom:7,children:(0,p.jsxs)(o.xv,{children:[(0,u.nk)(n._('It looks like your file isn\u2019t formatted properly. Some of your Pins may not have been created.  {{ helpCenterPage }}', 'text describing why we are showing errors for this file', 'text describing why we are showing errors for this file'),{helpCenterPage:(0,p.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:j.Hv_,target:"blank",underline:"hover",children:n._('Make sure your .csv file complies with the formatting requirements', 'Text link for help page for csv import requirements', 'Text link for help page for csv import requirements')})},"helpCenterPage")}),(0,p.jsx)(o.xu,{margin:4}),n._('Download and review your report to determine which Pins are affected.', 'Text instructions on how to see error details', 'Text instructions on how to see error details')]})}),(0,p.jsx)(o.xu,{})]})})}var L=function(e,t){switch(e){case"MISSING_REQUIRED_COLUMN_TITLE":return t._('Missing video title', 'CsvImporter.RowErrors.MISSING_REQUIRED_COLUMN_TITLE', 'Uploaded CSV file has one row missing a required column Title');case"MISSING_REQUIRED_COLUMN_PINTEREST_BOARD":return t._('Missing Pinterest board', 'CsvImporter.RowErrors.MISSING_REQUIRED_COLUMN_PINTEREST_BOARD', 'Uploaded CSV file has one row missing a required column Pinterest board');case"DUPLICATE_TITLE":return t._('Multiples rows with the same title', 'CsvImporter.RowErrors.MISSING_REQUIRED_CODUPLICATE_TITLELUMN_TITLE', 'Uploaded CSV file has duplicate titles');case"INVALID_URL":return t._('Video link in URL column isn\'t formatted properly, please double check it', 'CsvImporter.RowErrors.INVALID_URL', 'Uploaded CSV file has one row with invalid URL');case"INVALID_THUMBNAIL":return t._('Video thumbnail isn\'t formatter properly, please double check it', 'CsvImporter.RowErrors.INVALID_THUMBNAIL', 'Uploaded CSV file has one row with invalid thumbnail');case"VIDEO_URL_MEDIA_URL_BOTH_PROVIDED":return t._('Video URL and media URL cannot both be provided', 'CsvImporter.RowErrors.VIDEO_URL_MEDIA_URL_BOTH_PROVIDED', 'Uploaded CSV file has one row with both video URL and media URL');case"VIDEO_URL_MEDIA_URL_BOTH_NOT_PROVIDED":return t._('Missing media URL', 'CsvImporter.RowErrors.VIDEO_URL_MEDIA_URL_BOTH_NOT_PROVIDED', 'Uploaded CSV file has one row missing a required column media URL');default:return t._('Unreadable rows', 'CsvImporter.RowErrors.DEFAULT', 'Generic CSV file one row with generic error message')}},F=function(e){return{errorType:"wide",fileWideErrorCode:e}},M=function(e,t){var r=(0,p.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:j.Hv_,target:"blank",underline:"hover",children:t._('Make sure your .csv file complies with the formatting requirements', 'CsvImporter.WideFileErrors.HelpCenterLink', 'Text link for help page for csv import requirements')})},"helpCenterPage");switch(e){case"FILE_ROWS_EXCEEDS_LIMIT":return{title:t._('Too many rows', 'CsvImporter.WideFileErrors.FILE_ROWS_EXCEEDS_LIMIT.Title', 'Error title'),message:t._('Your .csv file can have up to 200 rows. It looks like you have a few extra. Remove some rows and try again. ', 'CsvImporter.WideFileErrors.FILE_ROWS_EXCEEDS_LIMIT.Message', 'Uploaded CSV file exceeds size limit')};case"FILE_READ_ERROR":return{title:t._('File formatting issue', 'CsvImporter.WideFileErrors.FILE_READ_ERROR.Title', 'Error title'),message:(0,u.nk)(t._('It looks like your file couldn\u2019t be read. {{ helpCenterPage }} and try again. ', 'CsvImporter.WideFileErrors.FILE_READ_ERROR.Message', 'Label indicating uploaded CSV file could not be read'),{helpCenterPage:r})};case"NOT_CSV":return{title:t._('Invalid file format', 'CsvImporter.WideFileErrors.NOT_CSV.Title', 'Invalid file format'),message:(0,u.nk)(t._('It looks like your file is not a csv. {{ helpCenterPage }} and try again. ', 'CsvImporter.WideFileErrors.NOT_CSV.Message', 'Label indicating uploaded file is not a csv'),{helpCenterPage:r})};case"NO_DATA":return{title:t._('Empty file', 'CsvImporter.WideFileErrors.NO_DATA.Title', 'Error title'),message:(0,u.nk)(t._('It looks like your file is empty! {{ helpCenterPage }} and try again. ', 'CsvImporter.WideFileErrors.NO_DATA.Message', 'Label indicating uploaded CSV file could not be read'),{helpCenterPage:r})};case"MISSING_REQUIRED_HEADER_TITLE":return{title:t._('Missing header column', 'CsvImporter.WideFileErrors.MISSING_REQUIRED_HEADER_TITLE.Title', 'Error title'),message:L("MISSING_REQUIRED_COLUMN_TITLE",t)};case"MISSING_REQUIRED_HEADER_PINTEREST_BOARD":return{title:t._('Missing header column', 'CsvImporter.WideFileErrors.MISSING_REQUIRED_HEADER_PINTEREST_BOARD.Title', 'Error title'),message:L("MISSING_REQUIRED_COLUMN_PINTEREST_BOARD",t)};default:return{title:t._('Upload issue', 'CsvImporter.WideFileErrors.UPLOAD_ERROR.Title', 'Error title'),message:(0,u.nk)(t._('It looks like your file didn\u2019t upload correctly. {{ helpCenterPage }} and try again. ', 'CsvImporter.WideFileErrors.UPLOAD_ERROR.Message', 'Label indicating uploaded CSV file did not upload correctly'),{helpCenterPage:r})}}};function N(e){var t=e.error,r=e.messageOverride,n=e.onDismiss,a=(0,c.ZP)(),s=M(t,a),l=s.title,u=s.message,d=(0,i.useCallback)(function(){n()},[n]);return(0,p.jsx)(k.ZP,{accessibilityModalLabel:a._('View CSV Importer errors', 'Label describes the CSV Importer modal which displays success or errors of the import.', 'Label describes the CSV Importer modal which displays success or errors of the import.'),heading:a._('Hmm\u2026that didn\u2019t work', 'Header of CSV importer modeal indicating there are errors', 'Header of CSV importer modeal indicating there are errors'),footer:(0,p.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsx)(o.zx,{color:"red",size:"md",text:a._('Got it', 'Button to acknowledge the file wide error and dismiss the dialog', 'Button to acknowledge the file wide error and dismiss the dialog'),onClick:d})}),onDismiss:d,size:"lg",children:(0,p.jsxs)(o.xu,{padding:6,children:[(0,p.jsxs)(o.xu,{display:"flex",alignItems:"center",marginBottom:4,children:[(0,p.jsx)(o.JO,{icon:"alert",color:"error",accessibilityLabel:a._('Status icon', 'Icon to indicating there are errors with CSV Importer', 'Icon to indicating there are errors with CSV Importer'),size:16}),(0,p.jsx)(o.xu,{marginStart:3,children:(0,p.jsx)(o.xv,{weight:"bold",children:l})})]}),(0,p.jsx)(o.xu,{children:(0,p.jsx)(o.xv,{children:r||u})})]})})}var Z=r(356997);function U(e){var t=e.onDismiss,r=(0,c.ZP)(),n=(0,i.useCallback)(function(){t()},[t]);return(0,p.jsx)(Z.u_,{accessibilityModalLabel:r._('View errors', 'csv.importer.error.modal.a11y.text', 'Label describes the CSV Importer modal which displays success or errors of the import.'),heading:r._('Hmm\u2026that didn\u2019t work', 'csv.importer.modal.heading', 'Header of CSV importer modal indicating there are errors'),onDismiss:n,size:"lg",children:(0,p.jsx)(o.xu,{padding:6,children:(0,p.jsxs)(o.xu,{display:"flex",alignItems:"center",marginBottom:4,children:[(0,p.jsx)(o.JO,{icon:"alert",color:"error",accessibilityLabel:r._('Status icon', 'csv.importer.status.icon', 'Icon to indicating there are errors with CSV Importer'),size:16}),(0,p.jsx)(o.xu,{marginStart:3,children:(0,p.jsx)(o.xv,{children:r._('Sorry, something went wrong. Please try again later.', 'csv.import.modal.other.error', 'Generic error message')})})]})})})}function H(e){var t=e.errors,r=e.onHideModal,n=e.onDownload;if(t){if("wide"===t.errorType){var o=t.fileWideErrorCode;return(0,p.jsx)(N,{error:o,onDismiss:r})}if("server"===t.errorType){var i=t.message;return(0,p.jsx)(N,{error:"UPLOAD_ERROR",messageOverride:i,onDismiss:r})}if("row"===t.errorType)return(0,p.jsx)(z,{onDismiss:r,onDownload:n})}return(0,p.jsx)(U,{onDismiss:r})}var V={border:"dashed 2px #dadada",borderColor:"red",borderRadius:6};function q(e){var t=e.fileName,r=e.isModalOpen,n=e.onRemoveFile,i=e.onShowModal,a=e.errors,s=e.onDownload,l=e.onHideModal,u=(0,c.ZP)();return(0,p.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:V},display:"flex",direction:"row",height:eo,justifyContent:"between",padding:2,rounding:2,children:[(0,p.jsx)(o.xu,{padding:4,children:(0,p.jsx)(o.xv,{children:t})}),(0,p.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,p.jsx)(o.xu,{padding:2,children:(0,p.jsx)(o.zx,{onClick:i,text:u._('See errors', 'Button label that when clicked shows .csv file errors', 'Button label that when clicked shows .csv file errors')})}),(0,p.jsx)(o.xu,{padding:2,children:(0,p.jsx)(o.hU,{accessibilityLabel:u._('Remove .csv file', 'Remove currently uploaded .csv file', 'Remove currently uploaded .csv file'),icon:"cancel",onClick:n,size:"xs",iconColor:"gray"})})]}),r&&(0,p.jsx)(H,{errors:a,onHideModal:l,onDownload:s})]})}var W=r(566101),G=Object.freeze({title:{required:!0,headerErrorCode:"MISSING_REQUIRED_HEADER_TITLE",rowErrorCode:"MISSING_REQUIRED_COLUMN_TITLE"},"video url":{required:!1},"media url":{required:!1},"pinterest board":{required:!0,headerErrorCode:"MISSING_REQUIRED_HEADER_PINTEREST_BOARD",rowErrorCode:"MISSING_REQUIRED_COLUMN_PINTEREST_BOARD"},thumbnail:{required:!1},description:{required:!1},link:{required:!1},"publish date":{required:!1},keywords:{required:!1}});function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){Q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e,t,r){var n;return(n=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===$(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=function(e,t){var r=t&&t.rowErrors?t.rowErrors:{},n=r[e]>0?r[e]+1:1;return X(X({},t),{},{rowErrors:X(X({},r),{},Q({},e,n))})},ee=function(e,t,r){var n,o=[],i="",a="",s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(s.s();!(n=s.n()).done;){var l=n.value,c=l.trim().toLowerCase(),u=G[c],d=t[l].trim();c.includes("video url")&&(i=d),c.includes("media url")&&(a=d),u.required&&!d&&u.rowErrorCode&&o.push(u.rowErrorCode),c.includes("title")&&(r.has(d)?o.push("DUPLICATE_TITLE"):r.add(d)),c.includes("url")&&!(0,W.Z)({url:d})&&o.push("INVALID_URL"),c.includes("thumbnail")&&!(0,W.Z)({url:d})&&!d.match(/^((?:1[0-2]|0?[0-9]):[0-5][0-9]:[0-5][0-9]|[0-5]?[0-9]:[0-5][0-9])$/)&&isNaN(parseInt(d,10))&&o.push("INVALID_THUMBNAIL")}}catch(e){s.e(e)}finally{s.f()}return i&&a&&o.push("VIDEO_URL_MEDIA_URL_BOTH_PROVIDED"),i||a||o.push("VIDEO_URL_MEDIA_URL_BOTH_NOT_PROVIDED"),o};function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||er(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return en(e,t)}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eo=80;function ei(){var e=(0,c.ZP)(),t=et((0,i.useState)(null),2),r=t[0],n=t[1],o=et((0,i.useState)(null),2),s=o[0],l=o[1],u=et((0,i.useState)(!1),2),d=u[0],f=u[1],h=(0,i.useCallback)(function(){if(r&&"row"===r.errorType){var e=r.dataWithRowErrors;if(s){var t=E().unparse(function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||er(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");if(void 0!==o.download){var i=URL.createObjectURL(n);o.setAttribute("href",i),o.setAttribute("download",s),o.style.visibility="hidden",o.click()}}}},[r,s]),_=(0,i.useCallback)(function(){f(!0)},[f]),b=(0,i.useCallback)(function(){f(!1)},[f]),y=(0,i.useCallback)(function(){l(null),n(null)},[l,n]),m=function(t){return new Promise(function(r,n){return E().parse(t,{header:!0,skipEmptyLines:!0,delimiter:"",chunk:function(t){if(","!==t.meta.delimiter)return n(F("NOT_CSV"));var o,i=t.data;return 0===i.length?n(F("NO_DATA")):i.length>200?n(F("FILE_ROWS_EXCEEDS_LIMIT")):(o=t.meta.fields,new Promise(function(e,t){for(var r=[],n=o.map(function(e){return e.trim().toLowerCase()}),i=0,a=Object.keys(G);i<a.length;i++){var s=a[i],l=n.indexOf(s);l>-1?r.push(o[l]):G[s].required&&G[s].headerErrorCode&&t(F(G[s].headerErrorCode))}e(r)})).then(function(t){var o=[],a={errorType:"row",rowErrors:{},dataWithRowErrors:o},s=new Set;return(i.forEach(function(r){var n=ee(t,r,s);n.forEach(function(e){a=K(e,a)}),o.push(X(X({},r),{},{error:n.length>0?n.map(function(t){return L(t,e)}):null}))}),a.rowErrors&&Object.keys(a.rowErrors).length>0)?n(a):r()}).catch(function(e){n(e)})},error:function(){return n(F("FILE_READ_ERROR"))}})}).then(function(){return a.Z.create("CsvFeedUrlResource").callGet()}).then(function(e){var t=e.resource_response.data;return Promise.resolve([t.upload_url,t.get_url])}).then(function(e){var r=et(e,2),n=r[0],o=r[1];return new Promise(function(e,r){var o=new XMLHttpRequest;o.open("PUT",n,!0),o.setRequestHeader("Content-Type","text/csv"),o.onload=function(){var t;(t=o.status)>=200&&t<400?e(o.response):r(F("UPLOAD_ERROR"))},o.onerror=function(){r(F("UPLOAD_ERROR"))},o.send(t)}).then(function(){return Promise.resolve(o)})}).then(function(e){return a.Z.create("CsvFeedResource",{url:e,method:"POST"}).callCreate()}).then(function(e){return Promise.resolve(e.resource_response.data)}).then(function(){y(),_()}).catch(function(e){e instanceof I.Z?n({message:e.message_detail||e.message,errorType:"server"}):n(e),l(t.name),_()})},v=(0,i.useCallback)(function(e){m((0,A.Z)(e.dataTransfer)[0])},[l,n,f]),g=(0,i.useCallback)(function(e){var t=e.target.files;0!==t.length&&m(t[0])},[l,n,f]);return s||r?(0,p.jsx)(q,{errors:r||{errorType:"wide",fileWideErrorCode:"FILE_READ_ERROR"},fileName:s||"",isModalOpen:d,onDownload:h,onHideModal:b,onShowModal:_,onRemoveFile:y}):(0,p.jsx)(T,{isModalOpen:d,onFileChange:g,onDrop:v,onHideModal:b,onRemoveFile:y})}var ea=r(207108);function es(e){var t=e.videoUploadAllowed,r=(0,c.ZP)(),n=(0,O.Z)(),i=n.isAuth?n:{},a=i.isPartner,s=i.isAnyWebsiteVerified;return(0,p.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,p.jsx)(o.xu,{marginTop:2,children:(0,p.jsx)(o.xv,{size:"200",children:t?r._('Auto-publish Pins by connecting an RSS feed or use a .csv file to bulk create videos and image Pins', 'BulkCreatePin.Header', 'Header for Bulk Create Pins page'):r._('Auto-publish Pins by connecting an RSS', 'BulkCreatePins.RssOnlyHeader', 'Header for Bulk Create Pins page')})}),t&&(0,p.jsxs)(o.xu,{children:[(0,p.jsx)(ea.Z,{isFirst:!0,title:r._('Upload .csv file', 'Upload csv label', 'Upload csv label')}),(0,p.jsx)(o.xu,{marginBottom:4,marginTop:4,children:(0,p.jsx)(ei,{})}),(0,p.jsx)(o.xv,{size:"200",children:r._('Use a .csv file to create multiple Video Pins at once.', 'label explaining how to use Csv Importer', 'label explaining how to use Csv Importer')}),(0,p.jsx)(o.xu,{marginTop:2,children:(0,p.jsx)(o.xv,{size:"100",children:(0,u.nk)(r._('To see formatting requirements for your .csv file or to download a sample csv file, checkout the {{ clickHelpCenterPage }}', 'settings.usersettingspage.bulkcreatepins.csv.helptext', 'label explaining tips on uploading pins for Csv Importer and sample file to follow, clickHelpCenterPage:link to help center for more information'),{clickHelpCenterPage:(0,p.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:(0,p.jsx)(o.rU,{display:"inlineBlock",href:j.Hv_,target:"blank",underline:"hover",children:r._('Pinterest Help Center', 'settings.usersettingspage.bulkcreatepins.helpcenter', 'Text link for learning more about Csv Importer article')})},"clickHelpCenterPage")})})}),(0,p.jsx)(o.xu,{marginTop:7,children:(0,p.jsx)(o.iz,{})})]}),a&&s&&(0,p.jsx)(P,{})]})}var el=r(418614),ec=r(50286),eu=r(861978),ed=function(){var e=(0,c.ZP)(),t=(0,el.Z)({name:"UserSettingsResource"}).data,r=(0,O.Z)().isAuth,i=(0,ec.HG)();return r?i?(0,p.jsx)(eu.default,{activeItem:"BulkCreatePins",children:t?(0,p.jsx)(es,{videoUploadAllowed:!!t.video_upload_allowed}):(0,p.jsx)(o.xu,{marginTop:10,children:(0,p.jsx)(o.$j,{accessibilityLabel:e._('User settings', ' - ', ' -- '),show:!0})})}):(0,p.jsx)(n.l_,{to:"/settings"}):(0,p.jsx)(n.l_,{to:"/"})}},167678:function(e,t,r){"use strict";r.d(t,{TA:function(){return j}});var n=r(76911),o=r(742897),i=r(539439),a=r(744702),s=r(811602),l=r(727460),c=r(349424),u=r.n(c);function d(e){console.warn("loadable: "+e)}var f=n.createContext(),p={initialChunks:{}},h="PENDING",_="REJECTED",b=function(e){return e};function y(e){var t=e.defaultResolveComponent,r=void 0===t?b:t,c=e.render,d=e.onLoad;function y(e,t){void 0===t&&(t={});var b,y="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,m={};function v(e){return t.cacheKey?t.cacheKey(e):y.resolve?y.resolve(e):"static"}function g(e,n,o){var i=t.resolveComponent?t.resolveComponent(e,n):r(e);if(t.resolveComponent&&!(0,l.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var x=(b=function(e){function r(r){var n;return((n=e.call(this,r)||this).state={result:null,error:null,loading:!0,cacheKey:v(r)},function(e,t){if(!e){var r=Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}(!r.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),r.__chunkExtractor)?(!1===t.ssr||(y.requireAsync(r).catch(function(){return null}),n.loadSync(),r.__chunkExtractor.addChunk(y.chunkName(r))),(0,a.Z)(n)):(!1!==t.ssr&&(y.isReady&&y.isReady(r)||y.chunkName&&p.initialChunks[y.chunkName(r)])&&n.loadSync(),n)}(0,s.Z)(r,e),r.getDerivedStateFromProps=function(e,t){var r=v(e);return(0,i.Z)({},t,{cacheKey:r,loading:t.loading||t.cacheKey!==r})};var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===_&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return v(this.props)},n.getCache=function(){return m[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),m[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=y.requireSync(this.props),t=g(e,this.props,S);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var r=g(t,e.props,{Loadable:S});e.safeSetState({result:r,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},n.resolveAsync=function(){var e=this,t=this.props,r=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=y.requireAsync(r)).status=h,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e.props),chunkName:y.chunkName(e.props),error:t?t.message:t}),n.status=_})),n},n.render=function(){var e=this.props,r=e.forwardedRef,n=e.fallback,a=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,u=s.loading,d=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===h)throw this.loadAsync();if(l)throw l;var f=n||t.fallback||null;return u?f:c({fallback:f,result:d,options:t,props:(0,i.Z)({},a,{ref:r})})},r}(n.Component),function(e){return n.createElement(f.Consumer,null,function(t){return n.createElement(b,Object.assign({__chunkExtractor:t},e))})}),S=n.forwardRef(function(e,t){return n.createElement(x,Object.assign({forwardedRef:t},e))});return S.preload=function(e){y.requireAsync(e)},S.load=function(e){return y.requireAsync(e)},S}return{loadable:y,lazy:function(e,t){return y(e,(0,i.Z)({},t,{suspense:!0}))}}}var m=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,r=e.props;return n.createElement(t,r)}}),v=m.loadable,g=m.lazy,x=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,r=e.props;return r.children?r.children(t):null}}),S=x.loadable,w=x.lazy,P="undefined"!=typeof window;function j(e,t){void 0===e&&(e=function(){});var r=(void 0===t?{}:t).namespace;if(!P)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(P){var o=""+(void 0===r?"":r)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(o);if(i){n=JSON.parse(i.textContent);var a=document.getElementById(o+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var s=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,r=t.push.bind(t);function o(){n.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!s&&(s=!0,e())}t.push=function(){r.apply(void 0,arguments),o()},o()}).then(e)}v.lib=S,g.lib=w,t.ZP=v},661139:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=[],n=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,o){var i=r.length?r.pop():[],a=n.length?n.pop():[],s=function e(r,n,o,i){if(r===n)return 0!==r||1/r==1/n;if(null==r||null==n||"object"!=t(r)||"object"!=t(n))return!1;var a=Object.prototype.toString,s=a.call(r);if(s!=a.call(n))return!1;switch(s){case"[object String]":return r==String(n);case"[object Number]":return!(isNaN(r)||isNaN(n))&&r==Number(n);case"[object Date]":case"[object Boolean]":return+r==+n;case"[object RegExp]":return r.source==n.source&&r.global==n.global&&r.multiline==n.multiline&&r.ignoreCase==n.ignoreCase}for(var l=o.length;l--;)if(o[l]==r)return i[l]==n;o.push(r),i.push(n);var c=0;if("[object Array]"===s){if((c=r.length)!==n.length)return!1;for(;c--;)if(!e(r[c],n[c],o,i))return!1}else{if(r.constructor!==n.constructor)return!1;if(r.hasOwnProperty("valueOf")&&n.hasOwnProperty("valueOf"))return r.valueOf()==n.valueOf();var u=Object.keys(r);if(u.length!=Object.keys(n).length)return!1;for(var d=0;d<u.length;d++)if(!e(r[u[d]],n[u[d]],o,i))return!1}return o.pop(),i.pop(),!0}(e,o,i,a);return i.length=0,a.length=0,r.push(i),n.push(a),s}},703095:function(e){"use strict";function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},134710:function(e,t,r){"use strict";var n=r(703095);e.exports=n},349424:function(e,t,r){"use strict";var n=r(916731),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=l(t),_=l(r),b=0;b<a.length;++b){var y=a[b];if(!i[y]&&!(n&&n[y])&&!(_&&_[y])&&!(s&&s[y])){var m=f(r,y);try{c(t,y,m)}catch(e){}}}}return t}},468278:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116;function y(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case b:case _:case i:return t}}}function m(e){return y(e)===f}t.typeOf=y,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=_,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===_||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return m(e)||y(e)===d},t.isConcurrentMode=m,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===b},t.isMemo=function(e){return y(e)===_},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===l},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===h}},916731:function(e,t,r){"use strict";e.exports=r(468278)},674631:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],u=0;(l=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},475406:function(e,t){var r,n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/* @license
Papa Parse
v5.3.0
https://github.com/mholt/PapaParse
License: MIT
*/void 0!==(n="function"==typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,n=r&&/blob:/i.test((t.location||{}).protocol),i={},a=0,s={parse:function(r,n){var o=(n=n||{}).dynamicTyping||!1;if(S(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!S(n.transform)&&n.transform,n.worker&&s.WORKERS_SUPPORTED){var l=function(){if(!s.WORKERS_SUPPORTED)return!1;var r,n,o=(r=t.URL||t.webkitURL||null,n=e.toString(),s.BLOB_URL||(s.BLOB_URL=r.createObjectURL(new Blob(["(",n,")();"],{type:"text/javascript"})))),l=new t.Worker(o);return l.onmessage=y,l.id=a++,i[l.id]=l}();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=S(n.step),n.chunk=S(n.chunk),n.complete=S(n.complete),n.error=S(n.error),delete n.worker,void l.postMessage({input:r,config:n,workerId:l.id})}var c=null;return s.NODE_STREAM_INPUT,"string"==typeof r?c=n.download?new u(n):new f(n):!0===r.readable&&S(r.read)&&S(r.on)?c=new p(n):(t.File&&r instanceof File||r instanceof Object)&&(c=new d(n)),c.stream(r)},unparse:function(e,t){var r=!1,n=!0,i=",",a="\r\n",l='"',c=l+l,u=!1,d=null,f=!1;!function(){if("object"==o(t)){if("string"!=typeof t.delimiter||s.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+l),"boolean"==typeof t.escapeFormulae&&(f=t.escapeFormulae)}}();var p=RegExp(_(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return b(null,e,u);if("object"==o(e[0]))return b(d||h(e[0]),e,u)}else if("object"==o(e))return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:h(e.data[0])),Array.isArray(e.data[0])||"object"==o(e.data[0])||(e.data=[e.data])),b(e.fields||[],e.data||[],u);throw Error("Unable to serialize unrecognized input");function h(e){if("object"!=o(e))return[];var t=[];for(var r in e)t.push(r);return t}function b(e,t,r){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&n){for(var c=0;c<e.length;c++)0<c&&(o+=i),o+=y(e[c],c);0<t.length&&(o+=a)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,f=!1,p=s?0===Object.keys(t[u]).length:0===t[u].length;if(r&&!s&&(f="greedy"===r?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===r&&s){for(var h=[],_=0;_<d;_++){var b=l?e[_]:_;h.push(t[u][b])}f=""===h.join("").trim()}if(!f){for(var m=0;m<d;m++){0<m&&!p&&(o+=i);var v=s&&l?e[m]:m;o+=y(t[u][v],m)}u<t.length-1&&(!r||0<d&&!p)&&(o+=a)}}return o}function y(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===f&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var n=e.toString().replace(p,c);return"boolean"==typeof r&&r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(n,s.BAD_DELIMITERS)||-1<n.indexOf(i)||" "===n.charAt(0)||" "===n.charAt(n.length-1)?l+n+l:n}}};if(s.RECORD_SEP="\x1e",s.UNIT_SEP="\x1f",s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r","\n",'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!r&&!!t.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=b,s.ParserHandle=h,s.NetworkStreamer=u,s.FileStreamer=d,s.StringStreamer=f,s.ReadableStreamStreamer=p,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var r=e.config||{},n=[];return this.each(function(e){if(!("INPUT"===l(this).prop("tagName").toUpperCase()&&"file"===l(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:l.extend({},r)})}),i(),this;function i(){if(0!==n.length){var t,r,i,c=n[0];if(S(e.before)){var u=e.before(c.file,c.inputElem);if("object"==o(u)){if("abort"===u.action)return t=c.file,r=c.inputElem,i=u.reason,void(S(e.error)&&e.error({name:"AbortError"},t,r,i));if("skip"===u.action)return void a();"object"==o(u.config)&&(c.instanceConfig=l.extend(c.instanceConfig,u.config))}else if("skip"===u)return void a()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){S(d)&&d(e,c.file,c.inputElem),a()},s.parse(c.file,c.instanceConfig)}else S(e.complete)&&e.complete()}function a(){n.splice(0,1),i()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=g(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var a=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=i.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:a,workerId:s.WORKER_ID,finished:c});else if(S(this._config.chunk)&&!r){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!S(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){S(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:s.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=s.RemoteChunkSize),c.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(Error(r))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=s.LocalChunkSize),c.call(this,e);var t,r,n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,o)}var i=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){c.call(this,e=e||{});var t=[],r=!0,n=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=x(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=x(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=x(function(){this._streamCleanUp(),n=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(e){var t,r,n,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,i=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,l=0,c=0,u=!1,d=!1,f=[],p={data:[],errors:[],meta:{}};if(S(e.step)){var h=e.step;e.step=function(t){if(p=t,v())m();else{if(m(),0===p.data.length)return;l+=t.data.length,e.preview&&l>e.preview?r.abort():(p.data=p.data[0],h(p,a))}}}function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function m(){if(p&&n&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines)for(var t=0;t<p.data.length;t++)y(p.data[t])&&p.data.splice(t--,1);return v()&&function(){if(p){if(Array.isArray(p.data[0])){for(var t=0;v()&&t<p.data.length;t++)p.data[t].forEach(r);p.data.splice(0,1)}else p.data.forEach(r)}function r(t,r){S(e.transformHeader)&&(t=e.transformHeader(t,r)),f.push(t)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;function t(t,r){var n,a=e.header?{}:[];for(n=0;n<t.length;n++){var s,l,u=n,d=t[n];e.header&&(u=n>=f.length?"__parsed_extra":f[n]),e.transform&&(d=e.transform(d,u)),s=u,l=d,e.dynamicTypingFunction&&void 0===e.dynamicTyping[s]&&(e.dynamicTyping[s]=e.dynamicTypingFunction(s)),d=!0===(e.dynamicTyping[s]||e.dynamicTyping)?"true"===l||"TRUE"===l||"false"!==l&&"FALSE"!==l&&(!function(e){if(o.test(e)){var t=parseFloat(e);if(-9007199254740992<t&&t<9007199254740992)return!0}return!1}(l)?i.test(l)?new Date(l):""===l?null:l:parseFloat(l)):l,"__parsed_extra"===u?(a[u]=a[u]||[],a[u].push(d)):a[u]=d}return e.header&&(n>f.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,c+r):n<f.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,c+r)),a}var r=1;return!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(t),r=p.data.length):p.data=t(p.data,0),e.header&&p.meta&&(p.meta.fields=f),c+=r,p}()}function v(){return e.header&&0===f.length}function x(e,t,r,n){var o={type:e,code:t,message:r};void 0!==n&&(o.row=n),p.errors.push(o)}this.parse=function(o,i,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=RegExp(_(t)+"([^]*?)"+_(t),"gm"),n=(e=e.replace(r,"")).split("\r"),o=e.split("\n"),i=1<o.length&&o[0].length<n[0].length;if(1===n.length||i)return"\n";for(var a=0,s=0;s<n.length;s++)"\n"===n[s][0]&&a++;return a>=n.length/2?"\r\n":"\r"}(o,l)),n=!1,e.delimiter)S(e.delimiter)&&(e.delimiter=e.delimiter(o),p.meta.delimiter=e.delimiter);else{var c=function(t,r,n,o,i){var a,l,c,u;i=i||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var d=0;d<i.length;d++){var f=i[d],p=0,h=0,_=0;c=void 0;for(var m=new b({comments:o,delimiter:f,newline:r,preview:10}).parse(t),v=0;v<m.data.length;v++)if(n&&y(m.data[v]))_++;else{var g=m.data[v].length;h+=g,void 0!==c?0<g&&(p+=Math.abs(g-c),c=g):c=g}0<m.data.length&&(h/=m.data.length-_),(void 0===l||p<=l)&&(void 0===u||u<h)&&1.99<h&&(l=p,a=f,u=h)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(n=!0,e.delimiter=s.DefaultDelimiter),p.meta.delimiter=e.delimiter}var d=g(e);return e.preview&&e.header&&d.preview++,t=o,p=(r=new b(d)).parse(t,i,a),m(),u?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,r.abort(),t=S(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){a.streamer._halted?(u=!1,a.streamer.parseChunk(t,!0)):setTimeout(a.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,r.abort(),p.meta.aborted=!0,S(e.complete)&&e.complete(p),t=""}}function _(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(e){var t,r=(e=e||{}).delimiter,n=e.newline,o=e.comments,i=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof r||-1<s.BAD_DELIMITERS.indexOf(r))&&(r=","),o===r)throw Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<s.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var u=0,d=!1;this.parse=function(e,s,f){if("string"!=typeof e)throw Error("Input must be a string");var p=e.length,h=r.length,b=n.length,y=o.length,m=S(i),v=[],g=[],x=[],w=u=0;if(!e)return L();if(l||!1!==l&&-1===e.indexOf(t)){for(var P=e.split(n),j=0;j<P.length;j++){if(x=P[j],u+=x.length,j!==P.length-1)u+=n.length;else if(f)break;if(!o||x.substring(0,y)!==o){if(m){if(v=[],B(x.split(r)),F(),d)return L()}else B(x.split(r));if(a&&a<=j)return v=v.slice(0,a),L(!0)}}return L()}for(var O=e.indexOf(r,u),C=e.indexOf(n,u),E=RegExp(_(c)+_(t),"g"),A=e.indexOf(t,u);;)if(e[u]!==t){if(o&&0===x.length&&e.substring(u,u+y)===o){if(-1===C)return L();u=C+b,C=e.indexOf(n,u),O=e.indexOf(r,u)}else{if(-1!==O&&(O<C||-1===C)){if(!(O<A)){x.push(e.substring(u,O)),u=O+h,O=e.indexOf(r,u);continue}var I=function n(o,i,a){var s={nextDelim:void 0,quoteSearch:void 0},l=e.indexOf(t,i+1);if(i<o&&o<l&&(l<a||-1===a)){var c=e.indexOf(r,l);if(-1===c)return s;l<c&&(l=e.indexOf(t,l+1)),s=n(c,l,a)}else s={nextDelim:o,quoteSearch:i};return s}(O,A,C);if(I&&void 0!==I.nextDelim){O=I.nextDelim,A=I.quoteSearch,x.push(e.substring(u,O)),u=O+h,O=e.indexOf(r,u);continue}}if(-1===C)break;if(x.push(e.substring(u,C)),z(C+b),m&&(F(),d))return L();if(a&&v.length>=a)return L(!0)}}else for(A=u,u++;;){if(-1===(A=e.indexOf(t,A+1)))return f||g.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:v.length,index:u}),T();if(A===p-1)return T(e.substring(u,A).replace(E,t));if(t!==c||e[A+1]!==c){if(t===c||0===A||e[A-1]!==c){-1!==O&&O<A+1&&(O=e.indexOf(r,A+1)),-1!==C&&C<A+1&&(C=e.indexOf(n,A+1));var R=D(-1===C?O:Math.min(O,C));if(e[A+1+R]===r){x.push(e.substring(u,A).replace(E,t)),e[u=A+1+R+h]!==t&&(A=e.indexOf(t,u)),O=e.indexOf(r,u),C=e.indexOf(n,u);break}var k=D(C);if(e.substring(A+1+k,A+1+k+b)===n){if(x.push(e.substring(u,A).replace(E,t)),z(A+1+k+b),O=e.indexOf(r,u),A=e.indexOf(t,u),m&&(F(),d))return L();if(a&&v.length>=a)return L(!0);break}g.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:v.length,index:u}),A++}}else A++}return T();function B(e){v.push(e),w=u}function D(t){var r=0;if(-1!==t){var n=e.substring(A+1,t);n&&""===n.trim()&&(r=n.length)}return r}function T(t){return f||(void 0===t&&(t=e.substring(u)),x.push(t),u=p,B(x),m&&F()),L()}function z(t){u=t,B(x),x=[],C=e.indexOf(n,u)}function L(e){return{data:v,errors:g,meta:{delimiter:r,linebreak:n,aborted:d,truncated:!!e,cursor:w+(s||0)}}}function F(){i(L()),v=[],g=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function y(e){var t=e.data,r=i[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){n=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(S(r.userStep)){for(var a=0;a<t.results.data.length&&(r.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!n);a++);delete t.results}else S(r.userChunk)&&(r.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!n&&m(t.workerId,t.results)}function m(e,t){var r=i[e];S(r.userComplete)&&r.userComplete(t),r.terminate(),delete i[e]}function v(){throw Error("Not implemented.")}function g(e){if("object"!=o(e)||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=g(e[r]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function S(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var r=e.data;if(void 0===s.WORKER_ID&&r&&(s.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:s.WORKER_ID,results:s.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var n=s.parse(r.input,r.config);n&&t.postMessage({workerId:s.WORKER_ID,results:n,finished:!0})}}),(u.prototype=Object.create(c.prototype)).constructor=u,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(c.prototype)).constructor=p,s})?r.apply(t,[]):r)&&(e.exports=n)},401426:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function S(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case l:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case y:case b:case c:return e;default:return t}}case i:return t}}}function w(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=b,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||S(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===y},t.isMemo=function(e){return S(e)===b},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===l},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===h||e===_||"object"===r(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===b||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===g||e.$$typeof===x||e.$$typeof===m)},t.typeOf=S},727460:function(e,t,r){"use strict";e.exports=r(401426)},561810:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<a(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,r))c<o&&0>a(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else if(c<o&&0>a(u,r))e[n]=u,e[c]=r,n=c;else break}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var s,l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,h=null,_=3,b=!1,y=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function S(e){for(var t=o(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(d,t);else break;t=o(f)}}function w(e){if(m=!1,S(e),!y){if(null!==o(d))y=!0,D(P);else{var t=o(f);null!==t&&T(w,t.startTime-e)}}}function P(e,r){y=!1,m&&(m=!1,g(C),C=-1),b=!0;var n=_;try{for(S(r),h=o(d);null!==h&&(!(h.expirationTime>r)||e&&!I());){var a=h.callback;if("function"==typeof a){h.callback=null,_=h.priorityLevel;var s=a(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?h.callback=s:h===o(d)&&i(d),S(r)}else i(d);h=o(d)}if(null!==h)var l=!0;else{var c=o(f);null!==c&&T(w,c.startTime-r),l=!1}return l}finally{h=null,_=n,b=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j=!1,O=null,C=-1,E=5,A=-1;function I(){return!(t.unstable_now()-A<E)}function R(){if(null!==O){var e=t.unstable_now();A=e;var r=!0;try{r=O(!0,e)}finally{r?s():(j=!1,O=null)}}else j=!1}if("function"==typeof x)s=function(){x(R)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,B=k.port2;k.port1.onmessage=R,s=function(){B.postMessage(null)}}else s=function(){v(R,0)};function D(e){O=e,j||(j=!0,s())}function T(e,r){C=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||b||(y=!0,D(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return o(d)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var r=_;_=t;try{return e()}finally{_=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=_;_=e;try{return t()}finally{_=r}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch(a="object"===r(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>s?(e.sortIndex=a,n(f,e),null===o(d)&&e===o(f)&&(m?(g(C),C=-1):m=!0,T(w,a-s))):(e.sortIndex=l,n(d,e),y||b||(y=!0,D(P))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=_;return function(){var r=_;_=t;try{return e.apply(this,arguments)}finally{_=r}}}},456058:function(e,t,r){"use strict";e.exports=r(561810)},830539:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return s(function(){o.value=r,o.getSnapshot=t,c(o)&&u({inst:o})},[e,r,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},165016:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),o=r(768138),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=a(e,(d=c(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(a=e,s=r)}var a,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,o]))[0],d[1]);return l(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},768138:function(e,t,r){"use strict";e.exports=r(830539)},273897:function(e,t,r){"use strict";e.exports=r(165016)},622702:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},500390:function(e,t,r){var n=r(622702);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},136021:function(e,t,r){var n=r(227176);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},928837:function(e,t,r){var n=r(715236);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},257523:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},71507:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},773954:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},228644:function(e,t,r){var n=r(928837);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},865897:function(e,t,r){var n=r(500390),o=r(71507),i=r(227176),a=r(773954);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},313493:function(e,t,r){var n=r(145425).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},715236:function(e,t,r){var n=r(145425).default,o=r(313493);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},145425:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},227176:function(e,t,r){var n=r(622702);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},224552:function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==o(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)i.call(e,r)&&e[r]&&(t=s(t,r));return t}(r)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===o(r.amdO)&&r.amdO?void 0!==(n=(function(){return a}).apply(t,[]))&&(e.exports=n):window.classNames=a}()},744702:function(e,t,r){"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},539439:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},811602:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(967809);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},742897:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return n}})},967809:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[97270,8390,99689,26067,17492,48327,66312,99246,10903,61978],function(){return e(e.s=579158)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/settings/bulk-create-pins-41fcdebb4a679a72.js.map